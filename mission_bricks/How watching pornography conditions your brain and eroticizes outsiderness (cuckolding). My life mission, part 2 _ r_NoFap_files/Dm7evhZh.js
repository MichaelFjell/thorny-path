SML.di("./CVEbQKiO.js",import.meta.url,"CVEbQKiO");SML.di("./D7lSuCop.js",import.meta.url,"D7lSuCop");SML.di("./CgqnU3iR.js",import.meta.url,"CgqnU3iR");SML.di("./CCphb8vV.js",import.meta.url,"CCphb8vV");SML.di("./CK9FveTr.js",import.meta.url,"CK9FveTr");SML.di("./Cl7bs0sf.js",import.meta.url,"Cl7bs0sf");SML.di("./DRUYslaY.js",import.meta.url,"DRUYslaY");SML.di("./BRarYp5X.js",import.meta.url,"BRarYp5X");SML.di("./DiKMDZzV.js",import.meta.url,"DiKMDZzV");SML.di("./D5N4FxiB.js",import.meta.url,"D5N4FxiB");SML.di("./ClPEhXhU.js",import.meta.url,"ClPEhXhU");
SML.dm("Dm7evhZh",["CVEbQKiO","D7lSuCop","CgqnU3iR","CCphb8vV","CK9FveTr","BRarYp5X","Cl7bs0sf","DRUYslaY","DiKMDZzV","D5N4FxiB","ClPEhXhU"],(async(e,t,a,i,d,s)=>{var n;!function(e){e.Collapsed="0",e.Expanded="1"}(n||(n={})),Object.values(n);let r=class extends(t.d(e.s)){constructor(){super(...arguments),this.lastUpdated=0,this.country="",this.featuredGameSlug="",this.persistedCollapsePreferenceEnabled=!1,this._drawerState=null,this._onClick=()=>{const e=this._getCurrentExpandedState();a.s(this.featuredGameSlug)&&this._hideBadges(),this._drawerState!==e&&this._setGamesDrawerState(e)},this._getCurrentExpandedState=()=>void 0===this._sectionHelpers?.[0]?.open?n.Collapsed:this._sectionHelpers[0].open?n.Expanded:n.Collapsed,this._setGamesDrawerState=async e=>{var a,i;(this._drawerState=e,this.country&&void 0!==this._sectionHelpers?.[0]?.open)&&(this.trackEvent(t.b({source:"nav",action:"click",noun:e===n.Expanded?"games_drawer_open":"games_drawer_close"})),a=e,i=this.country,t.G({name:t.f2,value:a,country:i}),this.persistedCollapsePreferenceEnabled&&(this._saveCollapseStateOnServerWithDebounce(e),this.showSuccessToast(e)))},this.showSuccessToast=t.u((e=>{const a=t.c("faceplate-alert",{level:t.a4.success,message:"Notifications "+(e===n.Expanded?"enabled":"disabled")});this.dispatchEvent(a)}),250,{leading:!0,trailing:!0}),this._saveCollapseStateOnServer=e=>this._requestClientGQL({operation:t.O.UpdateDevvitPreferences,variables:{input:{isGamesDrawerCollapsed:e===n.Collapsed}}}),this._saveCollapseStateOnServerWithDebounce=t.u(this._saveCollapseStateOnServer,250),this._requestClientGQL=t.v,this._hideBadges=()=>{t.l.isAvailable()&&t.l.setItem(t.L.DevvitGamesSectionFeaturedGameSlug,this.featuredGameSlug);document.querySelectorAll("games-section-badge-wrapper").forEach((e=>e.isBadgeActive=!1))}}firstUpdated(){this._drawerState=this._getCurrentExpandedState()}render(){return e.x` <slot @click="${this._onClick}" @keydown="${this._onClick}"></slot>`}};e._([e.k({selector:"faceplate-expandable-section-helper",flatten:!0})],r.prototype,"_sectionHelpers",void 0),e._([e.n({attribute:"last-updated",type:Number})],r.prototype,"lastUpdated",void 0),e._([e.n({attribute:"country",type:String})],r.prototype,"country",void 0),e._([e.n({attribute:"featured-game-slug",type:String})],r.prototype,"featuredGameSlug",void 0),e._([e.n({attribute:"persisted-collapse-preference-enabled",type:Boolean})],r.prototype,"persistedCollapsePreferenceEnabled",void 0),r=e._([e.c("games-section-badge-controller")],r);let l=class extends e.s{constructor(){super(...arguments),this.id="",this.name="",this.slug="",this.iconUrl="",this.ctaLink="",this.subredditId=void 0,this.isSubscribedToSubreddit=!1,this.slotNumber=0,this.isRecentlyPlayed=!1,this.onClick=()=>{t.e(this,this.buildEventData("click"))}}static get styles(){return[t.t]}buildEventData(e){return t.b({source:"nav",action:e,noun:"games_drawer_personalized_game"},{devplatform:{app_slug:this.slug,internal_entry_point:`games_drawer_slot_${this.slotNumber}`,app_recommendation_criteria:this.isRecentlyPlayed?"recently_played":"popular"}})}connectedCallback(){super.connectedCallback(),t.e(this,this.buildEventData("view"))}render(){const t=i._({size:"sm",appearance:"icon",children:this.iconUrl?e.x`<img loading="lazy" src="${this.iconUrl}" aria-hidden="true" alt="">`:e.x`<span style="color:inherit">${e.aB({size:e.q.ExtraLarge})}</span>`}),a=s.a(this.ctaLink,"games_drawer_personalized_game");return d.l({href:a,label:e.x`<div class="truncate">${this.name}</div>`,leadingAvatar:t,size:d.L.Small,onClick:()=>this.onClick(),trailingSlot:this.subredditId&&this.isRecentlyPlayed&&!this.isSubscribedToSubreddit?e.x`<shreddit-join-button name="${this.name}" subreddit-id="${this.subredditId}" buttonsize="x-small" button-classes="px-xs text-12" subscribe-label="${"Join"}" unsubscribe-label="${"Joined"}" unsubscribe-button-type-override="bordered" with-tracking tracking-source="nav" tracking-action="click" tracking-subscribe-noun="subscribe" tracking-unsubscribe-noun="unsubscribe" .trackingOptions="${{devplatform:{app_slug:this.slug,internal_entry_point:`games_drawer_slot_${this.slotNumber}`}}}" ?subscribed="${this.isSubscribedToSubreddit}"></shreddit-join-button>`:e.x``});}};e._([e.n({type:String})],l.prototype,"id",void 0),e._([e.n({type:String})],l.prototype,"name",void 0),e._([e.n({type:String})],l.prototype,"slug",void 0),e._([e.n({type:String})],l.prototype,"iconUrl",void 0),e._([e.n({type:String})],l.prototype,"ctaLink",void 0),e._([e.n({type:String})],l.prototype,"subredditId",void 0),e._([e.n({type:Boolean})],l.prototype,"isSubscribedToSubreddit",void 0),e._([e.n({type:Number})],l.prototype,"slotNumber",void 0),e._([e.n({type:Boolean})],l.prototype,"isRecentlyPlayed",void 0),l=e._([e.c("devvit-games-drawer-item")],l)}));