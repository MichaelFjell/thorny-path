SML.dm("CCphb8vV",["D7lSuCop","CVEbQKiO"],(async(e,t)=>{const n=(e,t)=>{if(!e||!t)return!1;if(e===t)return!0;if(0===e.childElementCount&&!(e instanceof HTMLSlotElement))return!1;if(e.contains(t))return!0;if(e instanceof HTMLSlotElement&&e.assignedElements().some((e=>n(e,t))))return!0;if(e instanceof Element&&e.shadowRoot&&n(e.shadowRoot,t))return!0;for(const a of e.querySelectorAll("slot"))if(a.assignedElements().some((e=>n(e,t))))return!0;return!1};const a=new WeakMap;function r(e,t=document){let n=a.get(t);n||(n=new Map,a.set(t,n));let r=n.get(e);return r||(r={key:e},n.set(e,r)),r}const i=Symbol("mixins/pagination"),o=function(t){const n=new WeakMap,a=e.fE();return{getContextKey:(e,t)=>r(e,t),appointLeader(e,r){if(n.has(r)){if(n.get(r).isConnected)throw new Error(`Cannot appoint leader for key "${r.key}" in the same context twice.`)}n.set(r,e);const i=a.getRegisteredElements(r);if(i)for(const n of i)t(e,n)},dismissLeader(e,t){const a=n.get(t);a&&a===e&&n.delete(t)},getLeader:e=>n.get(e),registerFollower(e,r){a.register(r,e);const i=n.get(r);i&&t(i,e)},unregisterFollower(e,t){a.unregister(t,e)},getFollowers:e=>a.getRegisteredElements(e)}}(((e,t)=>{t.syncPagination(e)}));const s=new WeakMap;const l=e=>!e.hasAttribute("disabled"),c=e=>e.tabIndex=0,u=e=>e.tabIndex=-1,d=e=>0===e.tabIndex&&l(e),m=e=>(c(e),e.focus(),e),h=e=>(u(e),e),p=e=>{for(let t=0;t<e.length;t++){const n=e[t];if(d(n))return[n,t]}return null},g=e=>{for(const t of e)if(l(t))return t;return null},f=e=>{const t=g(e);return t?m(t):null},b=e=>{const t=(e=>{for(let t=0;t<e.length;t++){const n=e[e.length-1-t];if(l(n))return n}return null})(e);return t?m(t):null},v=Symbol.for("rpl-menu-item");function k(e){return e.assignedNodes({flatten:!0}).filter((e=>!!(e.nodeType===Node.ELEMENT_NODE||e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)))).length>0;}const N=({selected:n,selectedIcon:a,size:r=e._.Medium,unselectedIcon:i,...o})=>{const{html:s}=t.g();return e.fI({...o,attributes:{...o.attributes},size:r,selected:n,leadingIcon:n?a:i,trailingIcon:s`<span class="inline-flex dropdown-icon ${o.children&&"ml-2xs"}"> ${t.M({size:r===e._.Small?t.q.Small:t.q.Medium})} </span>`,dropdown:!0})};function I(e){const t={};return(n,a)=>{const r=((e,t)=>t?e+JSON.stringify(t):e)(n,a);return Object.prototype.hasOwnProperty.call(t,r)?t[r]:t[r]=new e(n,a)}}const y=I(Intl.NumberFormat),T=I(Intl.RelativeTimeFormat),S=I(Intl.DateTimeFormat);function _(e){return void 0===e?e:e.startsWith("selector(")?e.replace(/^selector\(/,"").replace(/\)$/,""):e;}function w(e){return{...e,trigger:"object"==typeof e.trigger?C(e.trigger):e.trigger,target:_(e.target),template:_(e.template),triggerElem:_(e.triggerElem)}}function C(e){if("event"in e)return e.filters?`event(${e.event}(${JSON.stringify(e.filters)}))`:`event(${e.event})`;if("topic"in e)return e.filters?`subscribe(${e.topic}(${JSON.stringify(e.filters)}))`:`subscribe(${e.topic})`;if("intersection"in e){if("enter"===e.intersection)return e.observerArgs?`view(args(${JSON.stringify(e.observerArgs)}))`:"view";if("leave"===e.intersection)return e.observerArgs?`leave(${e.observerArgs})`:"leave"}return""}function R(e){return n=>e(t.x,t.l,n)}const E=R((function(e,t,n){return e`<ac-activate ?once="${(n=w(n)).once}" ?scoped="${n.scoped}" args="${t(n.args?JSON.stringify(n.args):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" name="${n.name.toString()}" query-params="${t(n.queryParams?JSON.stringify(n.queryParams):void 0)}" render-mode="${t(n.renderMode)}" route-params="${t(n.routeParams?JSON.stringify(n.routeParams):void 0)}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-activate>`})),x=R((function(e,t,n){return e`<ac-dispatch ?once="${(n=w(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" detail="${t(n.detail?JSON.stringify(n.detail):void 0)}" event-name="${n.eventName}" target="${t(n.target)}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-dispatch>`})),P=R((function(e,t,n){return e`<ac-gql-mutate ?once="${(n=w(n)).once}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" id="${t(n.id)}" operation="${n.operation}" throttle="${t(n.throttle)}" target="${t(n.target)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}" variables="${t(n.variables?JSON.stringify(n.variables):void 0)}"></ac-gql-mutate>`})),A=R((function(e,t,n){return e`<ac-track ?once="${(n=w(n)).once}" data-faceplate-tracking-context="${t(n.faceplateTrackingContext?JSON.stringify(n.faceplateTrackingContext):void 0)}" debounce="${t(n.debounce)}" delay="${t(n.delay)}" san="${n.san}" throttle="${t(n.throttle)}" trigger-elem="${t(n.triggerElem)}" trigger="${t(n.trigger)}"></ac-track>`})),O=Symbol.for("lit-nothing");let L="RelativeTimeFormat"in Intl;const z=6e4;function D(e){const t=Math.abs(e.diff);switch(e.unit){case"minutes":return`${t} min. ago`;case"hours":return`${t} hr. ago`;case"days":return t>1?`${t} days ago`:`${t} day ago`;case"months":return`${t} mo. ago`;case"years":return`${t} yr. ago`;default:!function(e){throw new Error("Unexpected object: "+e)}(e.unit)}}const $=()=>e.D.get(e.k2),M=()=>e.D.get(e.k4),F="combined";const H={get:()=>{if(!e.l.isAvailable())return;const t=e.l.getItem(e.L.I18nPostTranslationBanner);return t?JSON.parse(t):void 0},set:t=>{e.l.isAvailable()&&e.l.setItem(e.L.I18nPostTranslationBanner,JSON.stringify(t))},update:e=>{const t=H.get()||{};H.set({...t,...e})}},U="shreddit_mt_immersive_en",j=new Set,B=t=>{if(j.has(t))return;j.add(t);const n=e.cb(t);return e.ek({experimentName:t,variant:n??"",experimentVersion:""})},K={post:e=>{B(U)},comment:e=>{B(U)}},V={"3xs":"w-[1rem] h-[1rem]","2xs":"w-[1rem] h-[1rem]",xs:"w-[1.5rem] h-[1.5rem]",sm:"w-[2rem] h-[2rem]",md:"w-[2.5rem] h-[2.5rem]",lg:"w-[3rem] h-[3rem]",xl:"w-[3.5rem] h-[3.5rem]","2xl":"w-[4rem] h-[4rem]","3xl":"w-[5.5rem] h-[5.5rem]"},G={"3xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]","2xs":"w-[1rem] h-[1rem] min-w-[1rem] min-h-[1rem]",xs:"w-[1.5rem] h-[1.5rem] min-w-[1.5rem] min-h-[1.5rem]",sm:"w-[2rem] h-[2rem] min-w-[2rem] min-h-[2rem]",md:"w-[2.5rem] h-[2.5rem] min-w-[2.5rem] min-h-[2.5rem]",lg:"w-[3rem] h-[3rem] min-w-[3rem] min-h-[3rem]",xl:"w-[2.875rem] h-[2.875rem] min-w-[2.875rem] min-h-[2.875rem]","2xl":"w-[3.25rem] h-[3.25rem] min-w-[3.25rem] min-h-[3.25rem]","3xl":"w-[4.5rem] h-[4.5rem] min-w-[4.5rem] min-h-[4.5rem]"},q={"3xs":"outline-offset-[0.125rem]","2xs":"outline-offset-[0.125rem]",xs:"outline-offset-[0.125rem]",sm:"outline-offset-[0.125rem]",md:"outline-offset-[0.125rem]",lg:"outline-offset-[0.1875rem]",xl:"outline-offset-[0.1875rem]","2xl":"outline-offset-[0.1875rem]","3xl":"outline-offset-[.25rem]"},W={"3xs":"border","2xs":"border",xs:"border",sm:"border",md:"border-md",lg:"border-md",xl:"border-md","2xl":"border-lg","3xl":"border-lg"},J={"3xs":"outline-1","2xs":"outline-1",xs:"outline-1",sm:"outline-1",md:"outline-2",lg:"outline-2",xl:"outline-2","2xl":"outline-4","3xl":"outline-4"},Z={"3xs":2,"2xs":2,xs:2,sm:4,md:4,lg:4,xl:6,"2xl":6,"3xl":6},Y={"3xs":-5.4,"2xs":-5.4,xs:-5.4,sm:-7,md:-7,lg:-7,xl:-8.3,"2xl":-8.3,"3xl":-8.3},X={"3xs":"-right-[0.0625rem]","2xs":"right-0",xs:"right-[0.05rem]",sm:"right-[0.10rem]",md:"-right-[0.0825rem]",lg:"-right-[0.125rem]",xl:"-right-[0.125rem]","2xl":"-right-[.65rem]","3xl":"-right-[.75rem]"},Q={"3xs":"w-[.25rem] h-[.25rem] border","2xs":"w-[.25rem] h-[.25rem] border",xs:"w-[.25rem] h-[.25rem] border",sm:"w-[.375rem] h-[.375rem] border-2",md:"w-[.375rem] h-[.375rem] border-2",lg:"w-[.625rem] h-[.625rem] border-2",xl:"w-[.625rem] h-[.625rem] border-2","2xl":"w-[1rem] h-[1rem] border-2","3xl":"w-[1.25rem] h-[1.25rem] border-2"},ee={"3xs":"rounded-1","2xs":"rounded-1",xs:"rounded-1",sm:"rounded-2",md:"rounded-2",lg:"rounded-2",xl:"rounded-[.75rem]","2xl":"rounded-[.75rem]","3xl":"rounded-4"},te=({ringColorClassName:e,size:t})=>e?`${e} outline ${J[t]} ${q[t]}`:"",ne=({...e})=>{const{html:n,ifDefined:a}=t.g(),{attributes:r,children:i,position:o="relative",size:s,status:l}=e;return n`<span class="inline-flex snoovatar ${o} ${a(r?.className)}">${i}${ie({status:l,size:s})} </span>`},ae=({children:e,snoovatarSrc:n,avatarBgClassName:a,appearance:r})=>{const{html:i}=t.g();return i` <span style="${a||!n?"":`background: ${"media"===r?"var(--color-avatar-media-gradient)":"var(--color-avatar-gradient)"}`}" class="rounded-full absolute h-full w-full inline-flex justify-center ${a||""}"> ${e??t.A} </span>`},re=e=>{const{appearance:n}=e;return"collectible"===n?(({snoovatarSrc:e,snoovatarAlt:n,size:a,attributes:r,status:i,flip:o,lazy:s})=>{const{html:l}=t.g();return ne({flip:o,size:a,status:i,children:l`${le()} ${se({size:a})}${oe({snoovatarSrc:e,snoovatarAlt:n,size:a,lazy:s})}`,attributes:{...r,className:`${G[a]}`}})})(e):(({attributes:e,ringLayer:n,children:a,snoovatarAlt:r,snoovatarSrc:i,avatarBgClassName:o,size:s,ringColorClassName:l,status:c,appearance:u,flip:d,lazy:m})=>{const{html:h}=t.g(),p="default"===u?"box-border [&>:first-child]:rounded-[inherit] overflow-hidden":"",g=h`<span class="absolute rounded-full inset-0 border border-solid border-neutral-border-weak bg-transparent"></span>`;return ne({flip:d,size:s,status:c,position:n?"absolute":"relative",attributes:{...e,className:`${te({ringColorClassName:l,size:s})} fp-avatar-container rounded-full ${G[s]} isolate box-content`},children:h` ${i?t.A:ae({snoovatarSrc:i,appearance:u,avatarBgClassName:o,children:h`<span class="relative rounded-full overflow-hidden ${n?"border border-solid border-neutral-background":""} inline-flex w-full h-full ${p}">${a} ${"default"===u&&n?g:t.A} </span>`})} ${i?ce({snoovatarSrc:i,snoovatarAlt:r,size:s,ringColorClassName:l,avatarBgClassName:o,appearance:u,lazy:m}):t.A}`})})(e)},ie=({status:e,size:n})=>{const{html:a}=t.g();return e?a` <span class="${"online"===e?"bg-online":""} flex absolute bottom-0 rounded-full border-solid border-neutral-background bg-neutral-background ${X[n]} ${W[n]} ${Q[n]}"> ${"online"===e?"":e} </span> `:""},oe=({size:e,snoovatarAlt:n,snoovatarSrc:a,lazy:r})=>{const{html:i,svg:o}=t.g(),s=Math.random().toString(16).slice(2);return i`<div class="absolute h-full w-full" style="transform:translateY(${Y[e]}%)"> <svg width="100%" height="100%" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden"> <defs> <clipPath id="${s}"> <path d="M120 0H0V96H22.0602C22.5169 98.2109 23.896 100.155 25.8949 101.309L56          118.691C58.4752 120.12 61.5248 120.12 64 118.691L94.1051 101.309C96.104 100.155 97.4831          98.2109 97.9398 96H120V0Z"/> </clipPath> </defs> ${r?o`<foreignObject clip-path="url(#${s})" width="100%" height="100%"> <img src="${a}" alt="${n}" loading="lazy"> </foreignObject>`:o`<image href="${a}" alt="${n}" clip-path="url(#${s})" height="100%" width="100%">`} </svg> </div>`},se=({size:e})=>{const{html:n}=t.g();return n`<span class="absolute h-full w-full start-0"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 72 72" fill="none"> <path d="M34 3.4641C35.2376 2.74957 36.7624 2.74957 38 3.4641L63.1769 18C64.4145 18.7145 65.1769 20.035 65.1769 21.4641V50.5359C65.1769 51.965 64.4145 53.2855 63.1769 54L38 68.5359C36.7624 69.2504 35.2376 69.2504 34 68.5359L8.82309 54C7.58548 53.2855 6.82309 51.965 6.82309 50.5359V21.4641C6.82309 20.035 7.58548 18.7145 8.82309 18L34 3.4641Z" stroke="url(#paint0_diamond_26526_186798)" stroke-width="${Z[e]}" stroke-linejoin="round"/> <defs> <radialGradient id="paint0_diamond_26526_186798" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-7.4247 26.0998) rotate(15.9097) scale(50.0682 24082.5)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> </defs> </svg> </span>`},le=()=>{const{html:e}=t.g();return e`<div class="absolute h-full w-full" style="transform:scale(${.95})"> <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 64 64" fill="none"> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint0_diamond_26026_173944)"/> <path d="M29 1.73205C30.8564 0.660254 33.1436 0.660254 35 1.73205L56.7128 14.2679C58.5692 15.3397 59.7128 17.3205 59.7128 19.4641V44.5359C59.7128 46.6795 58.5692 48.6603 56.7128 49.7321L35 62.2679C33.1436 63.3397 30.8564 63.3397 29 62.2679L7.28719 49.7321C5.43078 48.6603 4.28719 46.6795 4.28719 44.5359V19.4641C4.28719 17.3205 5.43078 15.3397 7.28719 14.2679L29 1.73205Z" fill="url(#paint1_linear_26026_173944)"/> <defs> <radialGradient id="paint0_diamond_26026_173944" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(-6.59974 23.1999) rotate(15.9097) scale(44.5051 21406.7)"> <stop stop-color="#1185B5"/> <stop offset="0.29452" stop-color="#D7F7FF"/> <stop offset="0.526042" stop-color="#5EF6D8"/> <stop offset="0.838434" stop-color="#5EF6D8"/> <stop offset="0.867246" stop-color="#1990B9"/> <stop offset="1" stop-color="#3F9FC6"/> </radialGradient> <linearGradient id="paint1_linear_26026_173944" x1="23.5687" y1="22.7061" x2="44.1183" y2="53.4817" gradientUnits="userSpaceOnUse"> <stop stop-color="#004E5F"/> <stop offset="1" stop-color="#727CD8" stop-opacity="0.81"/> </linearGradient> </defs> </svg> </div>`},ce=({size:e,snoovatarAlt:n,snoovatarSrc:a,attributes:r,avatarBgClassName:i,appearance:o,lazy:s})=>{const{html:l,svg:c,createElement:u}=t.g(),d=Math.random().toString(16).slice(2);return u("span",{...r,className:"absolute start-0 end-0 bottom-0 mx-auto inline-flex shrink-0 justify-center box-border h-full w-full"},l`${ae({snoovatarSrc:a,avatarBgClassName:i,appearance:o})} <svg viewBox="0 0 121 122" xmlns="http://www.w3.org/2000/svg" class="overflow-hidden absolute bottom-0 ${V[e]}"> <defs> <clipPath id="${d}"> <path d="M0 0V79L28.1628 105.5C35.013 115.465 46.4934 122 59.5 122C72.5066 122 83.987 115.465 90.8372 105.5L120.5 79V0H0Z"/> </clipPath> </defs> ${s?c`<foreignObject clip-path="url(#${d})" width="100%" height="100%"> <img src="${a}" alt="${n}" loading="lazy"> </foreignObject>`:c`<image href="${a}" alt="${n}" clip-path="url(#${d})" height="100%" width="100%">`} </svg>`)},ue=({size:e="sm",appearance:n="default",snoovatarAlt:a="User Avatar",ringLayer:r,attributes:i,...o})=>{const{html:s,ifDefined:l}=t.g(),c="icon"===n||"subreddit"===n;return s`<span class="inline-flex items-center justify-center ${V[e]} ${i?.className}" rpl avatar ?flip="${o.flip}" id="${l(i?.id)}" slot="${l(i?.slot)}"> ${r&&!c?r:""} ${c?(({attributes:e,children:n,size:a,appearance:r,status:i,ringColorClassName:o})=>{const s="icon"===r?"rounded-full":ee[a],{html:l,ifDefined:c}=t.g();return l`<span rpl id="${c(e?.id)}" slot="${c(e?.slot)}" class="inline-block ${s} ${te({ringColorClassName:o,size:a})} relative [&>:first-child]:h-full [&>:first-child]:w-full [&>:first-child]:mb-0 [&>:first-child]:rounded-[inherit] h-full w-full [&>:first-child]:overflow-hidden [&>:first-child]:max-h-full"> ${n}${ie({status:i,size:a})} </span>`})({size:e,attributes:i,appearance:n,...o}):re({attributes:i,snoovatarAlt:a,appearance:n,ringLayer:r,size:e,...o})}</span>`};function de(e,t){void 0===t&&(t={});for(var n=function(e){for(var t=[],n=0;n<e.length;){var a=e[n];if("*"!==a&&"+"!==a&&"?"!==a)if("\\"!==a)if("{"!==a)if("}"!==a)if(":"!==a)if("("!==a)t.push({type:"CHAR",index:n,value:e[n++]});else{var r=1,i="";if("?"===e[s=n+1])throw new TypeError('Pattern cannot start with "?" at '.concat(s));for(;s<e.length;)if("\\"!==e[s]){if(")"===e[s]){if(0==--r){s++;break}}else if("("===e[s]&&(r++,"?"!==e[s+1]))throw new TypeError("Capturing groups are not allowed at ".concat(s));i+=e[s++]}else i+=e[s++]+e[s++];if(r)throw new TypeError("Unbalanced pattern at ".concat(n));if(!i)throw new TypeError("Missing pattern at ".concat(n));t.push({type:"PATTERN",index:n,value:i}),n=s}else{for(var o="",s=n+1;s<e.length;){var l=e.charCodeAt(s);if(!(l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||95===l))break;o+=e[s++]}if(!o)throw new TypeError("Missing parameter name at ".concat(n));t.push({type:"NAME",index:n,value:o}),n=s}else t.push({type:"CLOSE",index:n,value:e[n++]});else t.push({type:"OPEN",index:n,value:e[n++]});else t.push({type:"ESCAPED_CHAR",index:n++,value:e[n++]});else t.push({type:"MODIFIER",index:n,value:e[n++]})}return t.push({type:"END",index:n,value:""}),t}(e),a=t.prefixes,r=void 0===a?"./":a,i=t.delimiter,o=void 0===i?"/#?":i,s=[],l=0,c=0,u="",d=function(e){if(c<n.length&&n[c].type===e)return n[c++].value},m=function(e){var t=d(e);if(void 0!==t)return t;var a=n[c],r=a.type,i=a.index;throw new TypeError("Unexpected ".concat(r," at ").concat(i,", expected ").concat(e))},h=function(){for(var e,t="";e=d("CHAR")||d("ESCAPED_CHAR");)t+=e;return t},p=function(e){var t=s[s.length-1],n=e||(t&&"string"==typeof t?t:"");if(t&&!n)throw new TypeError('Must have text between two parameters, missing text after "'.concat(t.name,'"'));return!n||function(e){for(var t=0,n=o;t<n.length;t++){var a=n[t];if(e.indexOf(a)>-1)return!0}return!1}(n)?"[^".concat(me(o),"]+?"):"(?:(?!".concat(me(n),")[^").concat(me(o),"])+?")};c<n.length;){var g=d("CHAR"),f=d("NAME"),b=d("PATTERN");if(f||b){var v=g||"";-1===r.indexOf(v)&&(u+=v,v=""),u&&(s.push(u),u=""),s.push({name:f||l++,prefix:v,suffix:"",pattern:b||p(v),modifier:d("MODIFIER")||""})}else{var k=g||d("ESCAPED_CHAR");if(k)u+=k;else if(u&&(s.push(u),u=""),d("OPEN")){v=h();var N=d("NAME")||"",I=d("PATTERN")||"",y=h();m("CLOSE"),s.push({name:N||(I?l++:""),pattern:N&&!I?p(v):I,prefix:v,suffix:y,modifier:d("MODIFIER")||""})}else m("END")}}return s}function me(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");}const he=t.e(class extends t.a{constructor(e){super(e),this.tt=new WeakMap}render(e){return[e]}update(e,[n]){if(t.eO(this.et)&&(!t.eO(n)||this.et.strings!==n.strings)){const n=t.eP(e).pop();let a=this.tt.get(this.et.strings);if(void 0===a){const e=document.createDocumentFragment();a=t.B(t.A,e),a.setConnected(!1),this.tt.set(this.et.strings,a)}t.b6(a,[n]),t.eQ(a,void 0,n)}if(t.eO(n)){if(!t.eO(this.et)||this.et.strings!==n.strings){const a=this.tt.get(n.strings);if(void 0!==a){const n=t.eP(a).pop();t.eR(e),t.eQ(e,void 0,n),t.b6(e,[n])}}this.et=n}else this.et=void 0;return this.render(n)}}),pe=function(e){return e},ge=new Map([["image/png",e.k6.Png],["image/x-png",e.k6.Png],["image/gif",e.k6.Gif],["image/jpeg",e.k6.Jpeg],["image/webp",e.k6.Webp],["video/mp4",e.k6.Mp4],["video/quicktime",e.k6.Quicktime]]);let fe={uploadErrorMessage:()=>"There was an error uploading the file.",uploadToS3ErrorMessage:()=>"Failed to upload file to S3.",genericErrorMessage:()=>"Something went wrong",unsupportedMimetype:e=>`${e} files are not supported.`};function be(e,t){const n=new FormData;return t?.forEach((({header:e,value:t})=>{t&&n.append(e,t)})),n.append("file",e),n}function ve(e){return(new DOMParser).parseFromString(e,"text/xml")}function ke(e){window.Sentry?.captureMessage?.(e)}const Ne={plain:"plain",plainInverted:"plainInverted",error:"destructive",brand:"brand",caution:"plain",success:"success"};function Ie(){return "Something went wrong";}let ye=e.v;let Te=e.v;const Se="highlight_card_";const _e={rootMargin:"0px",threshold:[1]};class we extends e.a${constructor(t,n){super(t),this._isInViewport=!1,this._hasBeenImpressed=!1,this._hasBeenConsumed=!1,this._hasPageUnloaded=!1,this.onVisible=e=>{this._isInViewport&&e&&(this._hasPageUnloaded=!1,this._becameVisibleOnScreenTimestamp=Date.now())},this.onHidden=e=>{this._isInViewport&&(e||this._hasPageUnloaded||this.handlePotentialConsume())},this.onBeforeUnloadCallback=()=>{this._hasPageUnloaded=!0,this._isInViewport&&this.handlePotentialConsume()},this.onEnter=()=>{this._isInViewport||(this._isInViewport=!0,this._becameVisibleOnScreenTimestamp=Date.now(),this.handlePotentialImpression())},this.onLeave=()=>{this._isInViewport&&(this.handlePotentialConsume(),this._isInViewport=!1)},t.addController(this),this._config={...n,observerConfig:n.observerConfig??_e},this._observerController=new e.ag(this,t,this._config.observerConfig);const a=new e.E(this,(()=>t));a.define("faceplate-enter",this.onEnter),a.define("faceplate-leave",this.onLeave)}hostConnected(){super.hostConnected(),e.am(this.onVisible,{immediate:!0}),e.am(this.onHidden,{immediate:!0,shouldBeCalledFirst:!0}),e.al.subscribe(this.onBeforeUnloadCallback,{shouldBeCalledFirst:!0})}hostDisconnected(){super.hostDisconnected(),e.an(this.onHidden),e.an(this.onVisible),e.al.unsubscribe(this.onBeforeUnloadCallback)}handlePotentialImpression(){this._hasBeenImpressed||(this._hasBeenImpressed=!0,this._config.onView?.())}handlePotentialConsume(){!this._hasBeenConsumed&&this._becameVisibleOnScreenTimestamp&&Date.now()-this._becameVisibleOnScreenTimestamp>this._config.consumeThreshold&&(this._hasBeenConsumed=!0,this._observerController.hostDisconnected(),this._config.onConsume?.())}}const Ce="component-reload";const Re=(t,n,a)=>e.b({source:"custom_feeds",...t},{customFeed:{id:n},...(a ? {subreddit:{id:a}} : {})}),Ee=new Set,xe=t=>{if(!e.l.isAvailable())return;const n=e.l.getItem(t);if(n)try{return JSON.parse(n)}catch{return}},Pe=(t,n)=>{e.l.isAvailable()&&e.l.setItem(t,JSON.stringify(n))},Ae=new Set(["reddit","config","special"]),Oe=new Set(["edit","revisions","settings","discussions","pages","create"]),Le=new Set(["config/description","config/sidebar","config/stylesheet","config/submit_text"]);function ze(e,t){const n=xe(e);return n?n.slice(0,t):[]}const De=Object.entries({16:"icon32",24:"icon48",32:"icon64",40:"icon96",48:"icon96",56:"icon96",88:"icon96"});const $e=1e3,Me=1e6,Fe=1e9,He=({num:e,divider:t,defaultFixed:n=0,maxDigits:a,removeZeroDecimal:r})=>{const i=e/t;if(!a){const e=i.toFixed(n);return r&&Number(e)%1==0?Math.floor(i).toString():i.toFixed(Math.floor(n))}return i.toString().slice(0,a+1)};const Ue=(e,t,n=1)=>{const a=Math.pow(10,n);return(Math.floor(e/(t/a))/a).toFixed(n)},je=/(?:\/|-)nftv2_([a-z0-9%]+)_([a-z]+)_([a-z0-9-]{36})(?:-headshot)?\.(?:png|svg)/i;const Be="moderator";function Ke(t){return t===e.d0.Post}const Ve=(e,t)=>{"complete"!==document.readyState?window.addEventListener("load",e,t):e()},Ge="siteRule.value",qe="categoryOrRule.value";const We="preview";return {$:function(e,t){if(!e)return{color:"",icon:"",backgroundColor:""};const n=function(e){const t=e?.primaryColor,n=e?.mobileKeyColor,a=e?.legacyPrimaryColor;return t||n||a||null}(e)||"",a=function(e,t){if(!t)return e?.icon??null;for(const[n,a]of De){const r=e?.[a];if(r&&t<=parseInt(n,10))return r}return e?.icon??null}(e,t),r=e?.legacyIcon?.url;return{color:n,icon:a||r||"",backgroundColor:e?.backgroundColor||""}},A:class{constructor(t,n){this._batchTimer=0,this._batchDisplay=()=>{if(this._batchTimer=0,!this._batchQueue||!this._batchQueue.length)return;const t=e.k7(this._batchQueue);for(const e of t)this.options.onAlert(e);this._batchQueue.length=0},t.addController(this),this.host=t,this.options=n,n.batchWindow&&n.batchWindow>0&&(this._batchQueue=[])}hostConnected(){e.k8(this.host).then((t=>{t&&(this._reporter=t,e.k9.register(t,this))}))}hostDisconnected(){this._reporter&&(e.k9.unregister(this._reporter,this),this._reporter=void 0),this._batchTimer&&window.clearTimeout(this._batchTimer),this._batchQueue&&(this._batchQueue.length=0)}shouldDisplayAlert(e){if(!this.options.isOnline()&&!e.showWhenOffline)return!1;const t=this.options;if("number"==typeof e.level){if(t.max&&e.level>t.max)return!1;if(t.min&&e.level<t.min)return!1}else if(void 0!==t.min||void 0!==t.max)return!1;return!t.name||t.name===e.name}displayAlert(e){if(this._batchQueue){if(this._batchQueue.push(e),this._batchTimer)return;this._batchTimer=window.setTimeout(this._batchDisplay,this.options.batchWindow)}else this.options.onAlert(e)}},B:"back",C:class{constructor(t,n){this.isLoading=!1,this.hasReloadError=!1,this.handleReload=async e=>{if(this.reloadUrl){this.isLoading=!0,this.hasReloadError=!1,this.host.requestUpdate();try{await this.getAndReplacePartial(e.detail?.queryParameters)}catch(e){this.hasReloadError=!0}this.isLoading=!1,this.host.requestUpdate()}};const{reloadUrl:a,containerSelector:r,mode:i=e.g.Contents}=n||{};(this.host=t).addController(this),this._partialRequest=new e.aB(this.host),this._reloadUrl=a,this.containerSelector=r||this.host.tagName.toLowerCase(),this._mode=i}get reloadUrl(){return this._reloadUrl}set reloadUrl(e){this._reloadUrl=e}get mode(){return this._mode}set mode(e){this._mode=e}hostConnected(){this.host.addEventListener(Ce,this.handleReload)}hostDisconnected(){this.host.removeEventListener(Ce,this.handleReload)}async getAndReplacePartial(t={}){const n=this.reloadUrl&&Array.from(Object.entries(t)).reduce(((t,[n,a])=>e.c4(t,n,a)),this.reloadUrl),a=await this._partialRequest.request(n),r=await(a?.text());if(!r)throw new Error("Unable to reload content");const i=(new DOMParser).parseFromString(r,"text/html").querySelector(this.containerSelector);if(!i)throw new Error(`Element ${this.containerSelector} not found in reload response`);if(this.mode!==e.g.Contents)e.aC(i.outerHTML,this.host,this.mode);else{if(!i?.innerHTML)throw new Error("No content to reload");e.aC(i.innerHTML,this.host,this.mode)}}},D:"dismiss",E:function(){return window.matchMedia("(pointer: coarse)").matches},F:"onboarding",G:e=>{window.location.href=e||window.location.href},H:()=>e.b({source:"comment",action:"click",noun:"share"}),I:class{constructor(e,t){this.observedElements=[],this.handleSlotChange=e=>{this.observer.disconnect();const t=e.target;t instanceof HTMLSlotElement&&(this.observedElements=t.assignedElements(),this.observedElements.forEach((e=>this.observer.observe(e))))},this.observer=new IntersectionObserver(this.handleIntersection.bind(this),t),(this.host=e).addController(this)}hostConnected(){this.observedElements.forEach((e=>this.observer.observe(e)))}hostDisconnected(){this.observer.disconnect()}isLoadableFaceplatePartial(t){return t instanceof e.bx&&t.loading===e.o.Programmatic&&!t.isLoading}async handleIntersection(e){e.forEach((e=>{e.isIntersecting&&this.isLoadableFaceplatePartial(e.target)&&e.target.load()}))}},J:()=>e.b({source:"comment",action:"click",noun:"share_copy"}),K:Pe,L:xe,M:"gen_guides",N:t=>{const{error:n,metadata:a,element:r,componentName:i}=t,o=r.translationContextValue?.isTranslationActive;let s;try{a&&(s=JSON.stringify({isTranslationActive:o,...a}))}catch(e){}const l="string"==typeof n?n:void 0;let c=`[${i}] ${n.message??n?.msg??l??"unknown error"}`;s&&(c+=` ${s}`),function(t,n){const a=e.b({source:"translate_button",action:"error",noun:"app"},{action_info:{reason:n}});e.e(t,a)}(r,c),function(e){try{const t="Sentry"in window?window.Sentry:void 0;t?.captureException&&t.captureException(e)}catch(e){}}(c)},O:"observe-gallery-item-impression",P:function(e){return{source:"feed_experience",action:e?"unsubscribe":"subscribe",noun:"subreddit"}},Q:function(){return{source:"feed_experience_overflow",noun:"hide",action:"click"}},R:function(){return{source:"feed_experience",action:"impression",noun:"feed_experience"}},S:"subreddit-posting-eligibility-modal",T:()=>"Comment deleted by user",U:function(){const e=window.location?.search??"";return new URLSearchParams(e).has("tl")},V:we,W:function(e){if(i in e)return e;class t extends e{constructor(){super(...arguments),this.pages=1,this._pageIndex=1,this._pageNames=void 0}get pageIndex(){return this._pageIndex}set pageIndex(e){if(e===this._pageIndex)return;const t=this._pageIndex;this._pageIndex=e,this.pageIndexChangedCallback(t)}get pageNames(){return this._pageNames}set pageNames(e){e&&(this.pages=e.length),this._pageNames=e}syncLinkedPageables(){if(this._paginationLeaderContext){const e=o.getFollowers(this._paginationLeaderContext);if(!e||!e.size)return;for(const t of e)t.syncPagination(this)}if(this._paginationFollowerContext){const e=o.getLeader(this._paginationFollowerContext);e&&(e.pageIndex=this._pageIndex)}}syncPagination(e){this.pageIndex=e.pageIndex,this.pages=e.pages,this.pageNames=e.pageNames}getPaginationContext(){const e=this.getRootNode();if(e!==this&&(e instanceof Document||e instanceof ShadowRoot))return e}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=this.getPaginationContext();if(!e)return;const t=this.getAttribute("for");t&&(this._paginationFollowerContext=o.getContextKey(t,e),o.registerFollower(this,this._paginationFollowerContext)),this.id&&!t&&(this._paginationLeaderContext=o.getContextKey(this.id,e),o.appointLeader(this,this._paginationLeaderContext))}disconnectedCallback(){super.connectedCallback&&super.connectedCallback(),this._paginationLeaderContext&&(o.dismissLeader(this,this._paginationLeaderContext),this._paginationLeaderContext=void 0),this._paginationFollowerContext&&(o.unregisterFollower(this,this._paginationFollowerContext),this._paginationFollowerContext=void 0)}nextPage(){this.pageIndex=Math.min(this.pages,this.pageIndex+1)}previousPage(){this.pageIndex=Math.max(1,this.pageIndex-1)}pageIndexChangedCallback(e){this.syncLinkedPageables()}}return t[i]=!0,t},X:H,Y:({conversationId:e,position:t,searchQuery:n})=>{const a={conversation_id:e};return t&&(a.query_id=`${t}`),n&&(a.query=n),{search:a}},Z:function(e){return e.replace(Se,"")},_:ue,a:(e,t)=>{const n=e.composedPath(),a=Array.isArray(t)?t.map((e=>e.toUpperCase())):[t.toUpperCase()];for(const e of n)if(a.includes(e.tagName))return!0;return!1},a$:"saved_responses__cancel_update",a0:"pdp-ama-comment-tab-wrapper",a1:"clear-search-input",a2:e=>{try{return new URL(e).hostname.endsWith("reddit.com")}catch(e){return!1}},a3:e=>e.startsWith("https://alb.reddit.com/cr"),a4:function(){return"button_appearance"===e.cb(e.k5)||e.cb(e.k5)===F},a5:class{hostConnected(){}constructor(e,t){this.host=e,this.config=t,this.mouseIsDown=!1,this._interactionTrigger=null,this.eventUsedMap=new WeakMap,this.handleBlur=e=>{if(this.hasTrigger("focus")||this.hasTrigger("focus-visible")){const t=()=>this.host.finishInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayEnd(this.host)):t()}},this.handleClick=e=>{this.eventUsedMap.has(e)||(this.eventUsedMap.set(e,!0),this.hasTrigger("click")&&(this.config.isInteractedWith(this.host)?this.host.finishInteraction(e,"click"):this.host.startInteraction(e,"click")))},this.handleFocus=e=>{const t=this.hasTrigger("focus"),n=this.hasTrigger("focus-visible");if((!(!t&&n&&e.target instanceof HTMLElement)||e.target.matches(":focus-visible"))&&(t||n)&&!this.mouseIsDown){const t=()=>this.host.startInteraction(e,"focus");this.config.delayOpenOnFocus?this.delayInteraction(t,this.config.hoverDelayStart(this.host)):t()}},this.handleMouseEnter=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.startInteraction(e,"hover")),this.config.hoverDelayStart(this.host))},this.handleMouseLeave=e=>{this.hasTrigger("hover")&&this.delayInteraction((()=>this.host.finishInteraction(e,"hover")),this.config.hoverDelayEnd(this.host))},this.handleMouseDown=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!0)},this.handleMouseUp=()=>{this.hasTrigger("click")&&(this.mouseIsDown=!1)},this.host.addController(this)}set interactionTrigger(e){this._interactionTrigger=e,this.host.requestUpdate()}get interactionTrigger(){return this._interactionTrigger}delayInteraction(e,t){clearTimeout(this.delayTimeout),this.delayTimeout=window.setTimeout(e,t)}hasTrigger(e){return this.host.trigger.split(" ").includes(e)}},a6:n,a7:d,a8:c,a9:u,aA:({item:e,reason:t})=>new CustomEvent("rpl:menu-close",{bubbles:!0,composed:!0,detail:{item:e,reason:t,itemPath:[e]}}),aB:t=>Object.values(e.cN).includes(t),aC:t=>Object.values(e.cO).includes(t),aD:v,aE:je,aF:Oe,aG:Ae,aH:"config/automoderator",aI:"config/post_removal_message",aJ:Le,aK:50,aL:100,aM:"request",aN:"saved-responses__saved",aO:function(t){return t===e.a3.ModQueueCompactView},aP:Ie,aQ:t=>e.b({source:Be,action:"click",noun:Ke(t)?"reorder_post_flair_confirm":"reorder_flair_confirm"}),aR:"flair-settings__table-feature-id",aS:function(e=!1){return e?"Saved":"Save";},aT:function(e){return`${Se}${e}`},aU:(e,t)=>{const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return Math.floor(n.top)>=Math.floor(a.top)&&Math.ceil(n.bottom)<=Math.ceil(a.bottom)&&Math.ceil(n.right)<=Math.ceil(a.right)&&Math.floor(n.left)>=Math.floor(a.left)},aV:"saved-responses__create",aW:"saved-responses__exit-create-view",aX:"saved-responses__delete",aY:"saved-responses__update-item",aZ:"saved-responses__submit",a_:"saved-responses__open-reorder-modal",aa:g,ab:t=>Object.values(e.c0).includes(t),ac:p,ad:h,ae:l,af:m,ag:f,ah:e=>{const t=p(e);return t?(h(t[0]),t):null},ai:b,aj:(e,t,n)=>{if(!t)return b(e);const a=((e,t,n)=>{for(let a=1;a<e.length;a++){const r=(t-a+e.length)%e.length,i=e[r];if(r>t&&!n)return null;if(l(i))return i}return l(e[t])?e[t]:null})(e,t[1],n);return a?m(a):null},ak:(e,t,n)=>{if(!t)return f(e);const a=((e,t,n)=>{for(let a=1;a<e.length;a++){const r=(t+a)%e.length,i=e[r];if(r<t&&!n)return null;if(l(i))return i}return l(e[t])?e[t]:null})(e,t[1],n);return a?m(a):null},al:e=>v in e,am:{MenuItem:"menuitem",Button:"button",Link:"link",Checkbox:"menuitemcheckbox",Radio:"menuitemradio"},an:k,ao:P,ap:O,aq:({attributes:n,children:a,selected:r,leadingIcon:i,ariaControls:o,screenReaderContent:s,deleteButtonConfig:l})=>{const{html:c,ifDefined:u}=t.g();return c` <span class="inline-flex relative max-w-full" slot="${u(n?.slot)}"> ${e.fI({hideChildrenOverflow:!0,ariaControls:o,attributes:n,selected:r,size:e._.Small,leadingIcon:i&&ue({children:i,appearance:"icon",size:"2xs"}),children:c`<span class="${r?"inline-block me-[calc(var(--size-button-sm-h)-var(--rem10)-var(--button-border-width-default))]":""} overflow-hidden text-ellipsis">${a}</span>`,screenReaderContent:s})} ${r?c` <span style="${"transform: translateY(-50%);\nposition: absolute;\ninset-inline-end: 0;\ntop: 50%;\ntransform: translateY(-50%);\ndisplay: inline-flex;\n"}"> ${e.k({...l,appearance:"plain",size:e._.Small,leadingIcon:t.J({size:t.q.Small})})} </span>`:void 0} </span> `},ar:2e3,as:"saved-responses__reorder",at:"reddit-search:open",au:function(e){return!!e},av:(e,t)=>Re({action:"add",noun:"subreddit"},e,t),aw:(e,t)=>Re({action:"remove",noun:"subreddit"},e,t),ax:class{get active(){return this.duration>0}get timeRemaining(){return`${Math.floor(this.duration/6e4)}:${Math.ceil(this.duration%6e4/1e3).toString().padStart(2,"0")}`}get secondsRemaining(){return Math.ceil(this.duration/1e3).toString()}constructor(e){this.duration=0,this.interval=0,this.update=()=>{this.duration=this.duration-this.interval,this.duration<=0&&this.reset(),this.host.requestUpdate()},this.host=e,this.host.addController(this)}hostDisconnected(){this.reset()}reset(){clearInterval(this.timeout),this.duration=0,this.interval=0}start(e,t=1e3){this.reset(),this.duration=e,this.interval=t,this.timeout=setInterval(this.update,this.interval),this.host.requestUpdate()}},ay:5,az:(e,t)=>new CustomEvent("rpl:menu-clicked-item",{bubbles:!0,composed:!0,cancelable:!0,detail:{type:e,item:t}}),b:Ce,b$:"auth_modal",b0:"saved-responses-table__partial_id",b1:"saved_responses__response_delete_modal_id",b2:function(e){return`add-ama-collaborators-modal-${e}`},b3:({attributes:e,children:n,trailingSlot:a})=>{const{html:r,createElement:i}=t.g();return i("li",{...e,booleanListItemHeader:!0,className:"flex items-center m-0 pe-md h-2xl min-w-0 text-secondary font-semibold text-12",rpl:!0},r`<span class="grow min-w-0 px-sm truncate">${n}</span> ${a?r`<span class="flex items-center">${a}</span> `:void 0}`)},b4:t=>e.b({source:"achievements",action:"click",noun:"card_icon"},{action_info:{page_type:t}}),b5:t=>e.b({source:"achievements",action:"click",noun:"profile_showcase"},{action_info:{page_type:t}}),b6:function(n,a){return e.k({attributes:a,appearance:Ne[n],leadingIcon:t.C()})},b7:async function(t){const n={input:t},{data:a,errors:r}=await ye({operation:e.O.RemoveHighlightedPost,variables:n});if(r?.length)throw new Error(Ie());const{removeHighlightedPost:i}=a;if(!i?.ok)throw new Error(Ie())},b8:function(){return"vote_component"===e.cb(e.k5)||e.cb(e.k5)===F},b9:"wiki-banned-users__unban",bA:(e,t,n)=>{const a=ze(t,n),r=new Map,i=[e,...a];for(;i.length&&r.size<n;){const e=i.shift();r.has(e.uuid)||r.set(e.uuid,e)}const o=Array.from(r.values());o.length===a.length&&o.every(((e,t)=>e.uuid===a[t].uuid))||Pe(t,o)},bB:"login",bC:function(e){return!!e&&je.test(e)},bD:(e,t,n)=>{for(const n of t)if(n[0]===e)return(0,n[1])();return null==n?void 0:n()},bE:function(){return document&&document.documentElement.lang?document.documentElement.lang:navigator&&navigator.language?navigator.language:"en-US"},bF:function(e){return new Date(e.replace("+0000","+00:00"))},bG:function(e){return e?"Settings saved.":"Failed to save settings. Please try again.";},bH:function(e=!1){return e?"Saved":"Save changes";},bI:"wiki-page-settings-done-button",bJ:"wiki-page-settings-close-button",bK:"wiki-page-setting-modal-dialog",bL:S,bM:function(e,t,n){var a;const r=function(e,t){const n=t.getTime()-e.getTime(),a=Math.round(n/31104e6),r=Math.round(n/2592e6),i=Math.round(n/864e5),o=Math.round(n/36e5),s=n/z;let l="minutes",c=0;return Math.abs(Math.round(s))<60?c=s>-1&&s<1?Math.sign(s)*Math.ceil(Math.abs(s)):Math.round(s):Math.abs(o)<24?(l="hours",c=o):Math.abs(i)<29?(l="days",c=i):Math.abs(r)<11?(l="months",c=r):(l="years",c=a),{unit:l,diff:c}}(new Date,e);try{if(L){return function(e,t,n){return T(t,{localeMatcher:"lookup",numeric:"always",style:n}).format(e.diff,e.unit)}(r,t,null!==(a=null==n?void 0:n.format)&&void 0!==a?a:(null==n?void 0:n.short)?"short":"long")}}catch(e){}return ((null==n?void 0:n.short)||"short"===(null==n?void 0:n.format))&&r.diff<0&&t.match(/en.*/)?D(r):S(t,{dateStyle:"short",timeStyle:"short"}).format(e);},bN:function(t){return t===e.a3.CompactView},bO:class{constructor(e){this.bottomScrollIntoViewIfNeeded=e=>{const t=e?.parentElement;if(t&&e){t.clientHeight-(e.offsetTop+e.clientHeight)<0&&e.scrollIntoView()}},this.getHiddenInputValue=e=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value")??"",this.setHiddenInputValue=(e,t)=>this.reportFormEl.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t)??"",this.getAllHiddenInputValues=()=>Array.from(this.reportFormEl.querySelectorAll("form input[type=hidden]")).reduce(((e,t)=>{const n=t.getAttribute("name");return n?{...e,[n]:t.getAttribute("value")??""}:e}),{}),this.getComputedValueByRef=e=>{if(e===Ge){const t=this.getHiddenInputValue(qe);return this.getHiddenInputValue(e).includes(t)?this.getHiddenInputValue(e):""}return this.getHiddenInputValue(e)},this.checkCondition=e=>{if("object"==typeof e){const{args:t,$type:n}=e;if("computed"===n&&Array.isArray(t)){const n=t.map((e=>"object"==typeof e&&"ref"===e.$type?this.getComputedValueByRef(e.ref):e));return"neq"===e.function?String(n[0])!==String(n[1]):String(n[0])===String(n[1])}if("ref"===n&&e.ref)return this.getHiddenInputValue(e.ref)}return!1},this.getComputedProp=e=>{if("computed"===e.$type&&"conditionalSelect"===e.function&&e.conditions&&e.values){const t=e.conditions;for(const[n,a]of t.entries())if(!0===a||"boolean"!=typeof a&&this.checkCondition(a))return e.values[n]}return e},this.getText=e=>{if(this.isString(e))return e;const t=this.getComputedProp(e);return this.isString(t)?t:""},this.getAction=e=>this.getComputedProp(e),this.getDisabledCondition=e=>!!this.checkCondition(this.getComputedProp(e)),this.getTextDataRef=e=>{const t=e.conditions?.[0];if(t&&"boolean"!=typeof t){const e=t.args;if(Array.isArray(e)&&!this.isString(e[0]))return e[0].ref}return""},this.getDisabledRef=e=>{const t=e.args;if(t&&Array.isArray(t)&&!this.isString(t[0]))return[t[0].ref];const n=e.values;return n?n.map((e=>e.args[0].ref)):void 0},this.isString=e=>"string"==typeof e,this.performAction=e=>{switch(e.actionType){case"formSubmit":return{formSubmit:!0,data:e.args};case"formClose":return{formClose:!0};case"flow":return"SELF_HARM"===this.getHiddenInputValue(e.args[0].ref)?{openCtlFlow:!0}:void 0;case"openTemplatedUrl":const t=e.args,{urlTemplate:n,placeholders:a}=t;if(t&&n&&a){let e="";return a.forEach((a=>{const r=t[a],i=this.getHiddenInputValue(r.ref);i&&(e=n.replaceAll(`%(${a})s`,i))})),{href:e,formClose:!0}}return{formClose:!0};default:const{value:r,key:i}=e.args;return"ref"===r.$type?(this.setHiddenInputValue(i,this.getHiddenInputValue(r.ref)),{key:i,value:this.getHiddenInputValue(r.ref)}):void 0}},this.reportFormEl=e}},bP:Ge,bQ:qe,bR:()=>"[deleted]",bS:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),bT:"subreddit_about",bU:"comment-post",bV:he,bW:"list-reply-comment",bX:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"downvote_comment"},{action_info:{trigger_type:n}}),bY:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"upvote_comment"},{action_info:{trigger_type:n}}),bZ:(t="post_detail",n)=>e.b({source:t,action:"click",noun:"clearvote_comment"},{action_info:{trigger_type:n}}),b_:"view",ba:"wiki-banned-users__ban",bb:"wiki-banned-users__edit",bc:"wiki-banned-contributors-confirmation-modal",bd:"wiki-banned-contributors-ban-modal",be:function(e,{displayFull:t,roundDown:n,maxDigits:a,removeZeroDecimal:r}={}){return t?(e=>{const t=e.split(".");return [t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",")].concat(t.slice(1)).join(".");})(e.toString()):e>=99999999949?`${He({num:e,divider:Fe,maxDigits:a,removeZeroDecimal:r})}b`:e>=999999949&&e<99999999949?`${He({num:e,divider:Fe,defaultFixed:1,maxDigits:a,removeZeroDecimal:r})}b`:e>=99999949&&e<999999949?`${He({num:e,divider:Me,maxDigits:a,removeZeroDecimal:r})}m`:e>=999949&&e<99999949?`${He({num:e,divider:Me,defaultFixed:1,maxDigits:a,removeZeroDecimal:r})}m`:e>=99949&&e<999949?`${He({num:e,divider:$e,maxDigits:a,removeZeroDecimal:r})}k`:e>=$e&&e<99949?n?`${Ue(e,$e)}k`:`${He({num:e,divider:$e,defaultFixed:1,maxDigits:a,removeZeroDecimal:r})}k`:String(e);},bf:()=>e.b({source:"post_detail",action:"click",noun:"load_more_comments"}),bg:async function({responseId:t,subredditId:n,contentId:a,modmailVariables:r}){const{data:i,errors:o}=await Te({operation:e.O.RenderSavedResponseTemplateBySubredditId,variables:{responseId:t,subredditId:n,...(a ? {removalVariables:{contentId:a}} : {}),...(r ? {variables:{modmailVariables:r}} : {})}});if(o?.length||"Subreddit"!==i.subredditInfoById?.__typename||!i.subredditInfoById?.moderation?.renderSavedResponseTemplate?.templateValidation?.ok)throw new Error(Ie());return i.subredditInfoById.moderation.renderSavedResponseTemplate.response.markdown},bh:e=>Re({action:"delete",noun:"custom_feed"},e),bi:function(n,a){if(!n)return;const{html:r}=t.g();return r` <span class="flex items-center justify-center">${Array.isArray(n)?r`${n.map((t=>e.k({...t,appearance:Ne[a]})))}`:e.k(n)}</span>`},bj:async function(e,t){const n=await window.fetch(t.uploadLeaseUrl,{method:"POST",body:be(e,t.uploadLeaseHeaders)});if(n.ok){const e=function(e){const t=ve(e);return t.querySelector("Location")?.textContent?.trim()}(await n.text());return e||ke("Unable to retrieve S3 url for uploaded resource."),e}throw (ke(`Failed to upload file to S3 with error code: ${function(e){const t=ve(e);return t.querySelector("Code")?.textContent?.trim()}(await n.text())}`), new Error(fe.uploadToS3ErrorMessage()))},bk:ge,bl:K,bm:()=>e.b({source:"comment",action:"click",noun:"load_more_comments"}),bn:()=>e.b({source:"post_detail",action:"click",noun:"comment_image"}),bo:"comment-composer-cancel-draft",bp:"comment-edit-success",bq:"reloadPollingDurationMs",br:()=>e.b({source:"post_detail",action:"click",noun:"collapse_comment"}),bs:()=>e.b({source:"post_detail",action:"click",noun:"expand_comment"}),bt:"/svc/shreddit/edit-comment",bu:(t,{communityId:n,communityName:a})=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"communities_menu",subreddit:{name:a,id:n}})),bv:e=>Re({action:"duplicate",noun:"custom_feed"},e),bw:e=>Re({action:"create",noun:"custom_feed"},e),bx:"https://chat.reddit.com/",by:()=>e.b({source:"community_nav",action:"click",noun:"community_recent"}),bz:ze,c:(n,a)=>a?e.k({shape:"pill",appearance:"plain",size:e._.Small,attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",slot:"trigger",...n},hideChildrenOverflow:!0,children:t.x`<slot name="trigger-content"></slot>`,trailingIcon:t.N({size:t.q.Small,attributes:{"aria-hidden":"true",className:"px-[2px]"}})}):N({appearance:"plain",attributes:{className:"border-0 [:not(:hover)]:bg-transparent text-12 font-semibold text-secondary-plain",...n},children:t.x`<slot name="trigger-content"></slot>`,size:e._.Small}),c$:2e3,c0:"send",c1:pe,c2:function*(e,t){if(void 0!==e){let n=0;for(const a of e)yield t(a,n++)}},c3:{STREAK_EXTENDED:"streak_progressed",TROPHY_UNLOCKED:"achievement_unlocked",TROPHY_PROGRESSED:"achievement_progress"},c4:"product-carousel-item",c5:"gallery-images-container",c6:"achievement-progress-toast",c7:({attributes:n,title:a,titleDataTestId:r,description:i,buttonProps:o,creative:s,creativeSafe:l=!0})=>{const{html:c,createElement:u}=t.g();return u("div",{...n,className:"flex flex-col items-center w-full",rpl:!0,"rpl-empty-state":!0},c`<div class="w-full flex flex-col items-center overflow-hidden box-border ${!l&&"p-md"}"> ${s} </div> <div class="flex flex-col w-full items-center box-border px-md gap-md ${a||i?"pb-md":""}"> ${a||i?c` <div class="max-w-[480px] flex flex-col items-center text-center"> <div class="text-24 font-bold text-neutral-content-strong" data-testid="${t.l(r)}"> ${a} </div> <div class="text-16 text-neutral-content-weak">${i}</div> </div> `:""} ${o?c`<div>${e.k(o)}</div>`:""} </div>`)},c8:function(e,t,n){return e?t():null==n?void 0:n()},c9:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"all_communities"})),cA:t=>e.b({source:Be,action:"click",noun:Ke(t)?"post_flair_edit_save":"flair_edit_save"}),cB:t=>e.b({source:Be,action:"click",noun:Ke(t)?"create_post_flair_confirm":"create_flair_confirm"}),cC:"flair-form-success",cD:"flair-settings__flair-copy",cE:"flair-settings__flair-delete",cF:"flair-settings__flair-delete-modal",cG:"flair-settings__flair-form",cH:t=>e.b({source:Be,action:"click",noun:Ke(t)?"remove_post_flair_confirm":"remove_flair_confirm"}),cI:function({fieldErrors:e,defaultMessage:t}){return e?.[0]?.message??t},cJ:E,cK:({productName:e,productPrice:t,productId:n,retailerId:a,retailerName:r,retailerPrice:i,retailerLink:o})=>{const s={product_name:e,display_price:t};return n&&(s.product_id=n),a&&(s.retailer_id=a),r&&(s.retailer_name=r),i&&(s.retailer_price=i),o&&(s.retailer_link=o),s},cL:A,cM:$,cN:(t,n,a)=>{e.e0({name:e.k2}),e.G({name:e.k2,country:n,value:`${t}`,options:{...e.H,domain:a}})},cO:M,cP:(t,n,a)=>{e.e0({name:e.k4}),e.G({name:e.k4,country:n,value:`${t}`,options:{...e.H,domain:a}})},cQ:()=>e.D.get(e.k3),cR:(t,n,a)=>{e.e0({name:e.k3}),e.G({name:e.k3,country:n,value:`${t}`,options:{...e.H,domain:a}})},cS:({attributes:e,children:n})=>{const{html:a,createElement:r}=t.g();return r("li",{...e,booleanListItemGroup:!0,className:"list-none",rpl:!0},a`<ul class="p-0"> ${n} </ul>`)},cT:function(t){return t===e.a3.CardView},cU:"emote|",cV:"giphy|",cW:e=>!e||e.includes("avatar_default_"),cX:function({type:n,iconProps:a}){switch(n){case e.eN.Public:return {label:"Public",description:"Anyone can view, post, and comment to this community",icon:t.cP(a),iconSelected:t.cQ(a)};case e.eN.Restricted:return {label:"Restricted",description:"Anyone can view, but only approved users can contribute",icon:t.cd(a),iconSelected:t.cc(a)};case e.eN.Private:return {label:"Private",description:"Only approved users can view and contribute",icon:t.bD(a),iconSelected:t.aF(a)};case e.eN.EmployeesOnly:return {label:"Employee-only",description:"Only employees can view and contribute",icon:t.df(a),iconSelected:t.dg(a)};default:return null}},cY:x,cZ:"wiki-revision-note-modal-dialog",c_:"wiki-page-tabs",ca:t=>t.trackEvent(e.b({source:"community_page",action:"click",noun:"favorites"})),cb:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"search_bar"})),cc:t=>t.trackEvent(e.b({source:"community_search",action:"view",noun:"query_prompt"})),cd:t=>t.trackEvent(e.b({source:"community_search",action:"click",noun:"search_bar"})),ce:(t,n)=>e.b({source:Be,action:"click",noun:Ke(t)?"enable_post_flair":"enable_user_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cf:(t,n)=>e.b({source:Be,action:"click",noun:Ke(t)?"let_users_assign_post_flair":"let_users_assign_flair"},{action_info:{setting_value:n?"toggle on":"toggle off"}}),cg:t=>e.b({source:Be,action:"click",noun:Ke(t)?"reorder_post_flair_dialog":"reorder_flair_dialog"}),ch:e=>!!e&&(e.indexOf("profileIcon_snoo")>-1||e.indexOf("snoovatar/avatars")>-1||e.endsWith("snoovatar_anonymous.svg")),ci:"toggleable-video-player-element",cj:"toggleable-video-player-close-btn",ck:"thumbnail-video-toggle-container",cl:"thumbnail-image-video-toggle",cm:"thumbnail-playback-action-circle",cn:"hiddenClassnames",co:"visibleClassnames",cp:"skip",cq:e=>e.startsWith("a2_")?e.replace("a2_",""):e.startsWith("t2_")?e.replace("t2_",""):e,cr:"onboarded-ad-account",cs:"ad-account-creation-cancel",ct:"https://www.reddit.com/redditchat/",cu:"chat-mobile-xpromo",cv:"reputation-recaptcha",cw:{Total:"#D2DADD",Posts:"#0E8A00",Negative:"#372F8C",Positive:"#008675",Neutral:"#629FFF",Score:"#D93A00",Performance:"#6A5CFF",Comments:"#D93900",Upvotes:"#6A5CFF","Post Upvotes":"#DE019F","Comment Upvotes":"#5BA200","Total Upvotes":"#97AFBC","Total Mentions":"#6A5CFF"},get cx(){return fe},cy:e=>e??O,cz:class{get matches(){return this.mediaQuery.matches}constructor(e,t){this.host=e,this.query=t,this.rafId=null,this.handleMediaChange=()=>{this.rafId&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame((()=>{this.rafId=null,this.host.requestUpdate("matches",!this.matches)}))},e.addController(this),this.mediaQuery=window.matchMedia(t),this.mediaQuery.addEventListener("change",this.handleMediaChange)}async hostConnected(){}async hostDisconnected(){}},d:class{constructor(e){this.host=e,this.slotsCache=new Map,this.hasContentsCache=new Map,this.slotTextCache=new Map,this.handleSlotChange=e=>{if(!(e.target instanceof HTMLSlotElement))return;const t=e.target,n=t.hasAttribute("name")?t.name:"default",a=this.hasContentsCache.get(n),r=k(t);this.slotsCache.set(n,t),this.hasContentsCache.set(n,k(t)),this.slotTextCache.delete(n),a!==r&&this.host.requestUpdate()},e.addController(this)}hostConnected(){}getSlot(e){const t=this.slotsCache.get(e);if(void 0!==t)return t;const n=this.host.shadowRoot?.querySelector("default"===e?"slot:not([name])":`slot[name="${e}"]`);return n instanceof HTMLSlotElement?(this.slotsCache.set(e,n),n):null}hasSlotContent(e){return this.hasContentsCache.get(e)??!1}getSlotText(e){const t=this.slotTextCache.get(e);if(void 0!==t)return t;if(!(this.hasContentsCache.get(e)??!1))return this.slotTextCache.set(e,null),null;const n=this.getSlot(e);if(!n)return null;const a=(e=>{const t=e.assignedNodes({flatten:!0}),n=[];for(const e of t)e.nodeType===Node.TEXT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim()),e.nodeType===Node.ELEMENT_NODE&&e.textContent?.match(/\S/)&&n.push(e.textContent.trim());return n.length>0?n.join(" "):null})(n);return this.slotTextCache.set(e,a),a}},d0:"hidePostSubmitLink",d1:"isTranslatable",d2:"targetLanguage",d3:({adjacentElement:t})=>{if(!e.jy(e.jz()))return()=>{};const n=document.createElement("input");return n.setAttribute("type","text"),n.style.position="absolute",n.style.opacity="0",n.style.height="0",n.style.fontSize="16px",t.insertAdjacentElement("afterend",n),n.focus(),()=>n.remove()},d4:"comment-deletion-modal",d5:t=>e.b({source:t,action:"click",noun:"follow"}),d6:t=>e.b({source:t,action:"undo",noun:"follow"}),d7:"list-reply-comment-button",d8:t=>e.b({source:t,action:"click",noun:"save"}),d9:t=>e.b({source:t,action:"click",noun:"unsave"}),da:function(t){const n={[e.h9.Female]:"Woman",[e.h9.Male]:"Man",[e.h9.NonBinary]:"Non-binary",[e.h9.OptOut]:"I prefer not to say",[e.h9.UserDefined]:"I refer to myself as..."};return t?n[t]:n},e:r,f:e=>/^award_.+\|t\d_.+$/.test(e),g:function(e,t){const n=e.composedPath();for(const e of n){const n=e.dataset,a=n&&n[t];if(null!=a)return a}return null},h:function(e){return Array.from(function*(e){for(let t=1;t<=e;t++)yield t}(e))},i:({listId:e,seeButtonId:t})=>{const n=document.querySelector(`#${e}`),a=n?.querySelectorAll(".hidden"),r=n?.querySelector(`#${t}`),i=r?.getAttribute("data-see-less-label"),o=r?.getAttribute("data-see-more-label");if((!r||!Ee.has(r))&&n&&r&&a&&i&&o){let e=!0;r.addEventListener("click",(()=>{Array.from(a).forEach((t=>{e?t.classList.remove("hidden"):t.classList.add("hidden")})),r.textContent=e?i:o,e=!e})),Ee.add(r)}},j:y,k:function(e,t){return function(e,t){void 0===t&&(t={});var n=function(e){return e&&e.sensitive?"":"i"}(t),a=t.encode,r=void 0===a?function(e){return e}:a,i=t.validate,o=void 0===i||i,s=e.map((function(e){if("object"==typeof e)return new RegExp("^(?:".concat(e.pattern,")$"),n)}));return function(t){for(var n="",a=0;a<e.length;a++){var i=e[a];if("string"!=typeof i){var l=t?t[i.name]:void 0,c="?"===i.modifier||"*"===i.modifier,u="*"===i.modifier||"+"===i.modifier;if(Array.isArray(l)){if(!u)throw new TypeError('Expected "'.concat(i.name,'" to not repeat, but got an array'));if(0===l.length){if(c)continue;throw new TypeError('Expected "'.concat(i.name,'" to not be empty'))}for(var d=0;d<l.length;d++){var m=r(l[d],i);if(o&&!s[a].test(m))throw new TypeError('Expected all "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(m,'"'));n+=i.prefix+m+i.suffix}}else if("string"!=typeof l&&"number"!=typeof l){if(!c){var h=u?"an array":"a string";throw new TypeError('Expected "'.concat(i.name,'" to be ').concat(h))}}else{m=r(String(l),i);if(o&&!s[a].test(m))throw new TypeError('Expected "'.concat(i.name,'" to match "').concat(i.pattern,'", but got "').concat(m,'"'));n+=i.prefix+m+i.suffix}}else n+=i}return n}}(de(e,t),t)},l:(...e)=>e.filter(Boolean).join(" "),m:function(e="#preview"){Ve((function(){const t=document.querySelector(e);t?.classList.contains(We)||t?.classList.add(We)}))},n:()=>{const e=M(),t=$();return"true"===e||void 0===e&&void 0===t?window.matchMedia("(prefers-reduced-motion: reduce)")?.matches:"false"!==t},o:"templateSelector",p:function(e){const t=document.querySelector(e);if(!t)return Promise.reject(`lazy script "${e}" cannot be found`);const n=s.get(t);if(n)return n;if(!t.nonce)return Promise.reject('loadLazyScriptWithNonce should only be used to load scripts with "nonce"s');const a=t?.getAttribute("data-src");if(!a)return Promise.reject('loadLazyScriptWithNonce expects a script tag with a "data-src" attribute');const r=document.querySelector(`script[src="${a}"]`);if(r)return Promise.resolve(r);const i=new Promise(((e,n)=>{const r=document.createElement("script");r.nonce=t.nonce,r.onload=function(){e(r)},r.onerror=function(e){n(e?.toString())},r.src=a,r.dataset.lazy="true",document.body.appendChild(r)}));return s.set(t,i),i},q:function(){return{source:"feed_experience",action:"consume",noun:"subreddit"}},r:()=>e.b({source:"global",action:"view",noun:"screen"},{action_info:{page_type:e.aa.AchievementDetail}}),s:Ve,t:function(){return{source:"feed_experience",action:"impression",noun:"subreddit"}},u:"click",v:(e,t=e.tagName.toLowerCase())=>{const n=e=>(""===e&&(e="generic"),t+":"+e);return{dispatch:(t,a={bubbles:!0,cancelable:!0,composed:!0})=>e.dispatchEvent(new CustomEvent(n(t),a)),eventId:n}},w:N,x:function(e,t=0,n=!1){let a=!1,r=null;const i=function(...o){a?n&&(r=[this,o]):(e.apply(this,o),a=!0,setTimeout((()=>{a=!1,r&&(i.apply(r[0],r[1]),r=null)}),t))};return i},y:function(e,t){if(!e?.includes("r/"))return"/";let n=[e,t].filter(Boolean).join("/");return n.startsWith("/")||(n=`/${n}`),n.endsWith("/")||(n=`${n}/`),n},z:function(e,t){return null!==e.querySelector(`:scope > [slot="${t}"]`)}};}));
SML.dm("CITAGWir",["D7lSuCop","CVEbQKiO","CCphb8vV"],(async(e,a,t)=>{let r=class extends e.go{constructor(){super(...arguments),this._fullscreenBlurEl=document.createElement("div"),this._appliedBlurFilter=null,this._blurElement=null,this.shouldContentScroll=!1,this.isFooterEmpty=!0,this.render=()=>{const t=a.x`<slot name="closeButton" class="${e.x({floating:this.shouldContentScroll})}"></slot>`,r=a.x`<div id="header" class="${e.x({"with-icon":this._titleGraphic.length>0})}"> <slot name="titleGraphic"></slot> <slot name="title"></slot> </div>`,n=a.x`<slot name="primaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="secondaryButton" @slotchange="${this.calcFooterChildren}"></slot> <slot name="tertiaryButton" @slotchange="${this.calcFooterChildren}"></slot>`;return a.x` ${e.ck(this.modal?"\n  <style>\n    :host {\n      top: 50%;\n      transform: translateY(-50%);\n      position: fixed;\n    }\n  </style>\n":"\n  <style>\n    :host {\n      position: absolute;\n    }\n  </style>\n")} <div id="wrapper" role="${a.l(this.open?"dialog":void 0)}" aria-label="${a.l(this.ariaLabel??void 0)}" aria-labelledby="${a.l(null!=this.ariaLabel?void 0:"header-container")}" aria-modal="${a.l(this.open&&this.modal?"true":void 0)}"> <div id="content"> ${t} <div id="header-container"> ${r} </div> <slot></slot> </div> <div id="footer" class="${e.x({"sticky-footer":this.shouldContentScroll,empty:this.isFooterEmpty})}"> ${n} <slot name="footer" @slotchange="${this.calcFooterChildren}"></slot> </div> </div> `}}static get styles(){return a.i`${e.go.styles}:host{--content-padding:var(--spacer-md);box-sizing:border-box;max-width:none;border-radius:var(--rem16);padding:0;overflow:hidden}#wrapper{display:flex;flex-direction:column;align-items:center;height:100%;position:relative;font-size:16px;box-sizing:border-box;max-height:inherit;min-height:inherit;overflow:hidden}slot[name=closeButton]{display:inline-flex;position:absolute;position:absolute;top:0;inset-inline-end:0;margin:var(--content-padding)}#header{display:flex;flex-direction:column;gap:var(--spacer-sm);align-items:center;text-align:start;width:100%;box-sizing:border-box}#header.with-icon{text-align:center;padding:0 var(--rem40)}slot[name=title]{font-size:var(--rem18);font-weight:700}slot:not([name]){display:flex;flex-grow:1;width:100%;padding:var(--spacer-xs) 0;font-size:var(--rem14)}#footer{display:flex;flex-direction:column;gap:var(--spacer-sm);width:100%;background:var(--color-ui-modalbackground);padding:var(--spacer-md);box-sizing:border-box}slot[name=tertiaryButton]{display:inline-flex;justify-content:center;font-size:14px}#footer.empty{display:none}@media (min-width:640px){#content{padding:var(--content-padding)}#header,#header.with-icon{flex-direction:row;padding-inline:0 var(--spacer-2xl)}#footer{flex-direction:row-reverse;align-items:center;justify-content:end}slot[name=tertiaryButton]{margin-inline-end:auto}slot[name=title]{text-align:start}}#content{height:100%;max-height:100%;width:100%;overflow:auto;position:relative;--content-padding:var(--spacer-md);padding:var(--content-padding);box-sizing:border-box;flex:1}.overflowing-content{max-height:100%;overflow-y:auto}.sticky-footer{box-shadow:var(--elevation-md)}slot[name=closeButton].floating{box-shadow:var(--elevation-sm);border-radius:999px}`}connectedCallback(){super.connectedCallback(),Object.assign(this._fullscreenBlurEl.style,{position:"fixed",top:"0",bottom:"0",right:"0",left:"0",backdropFilter:n(4)})}disconnectedCallback(){this._fullscreenBlurEl.remove(),e.gn.remove(this),this.resizeObserver?.disconnect()}firstUpdated(){this.resizeObserver=new ResizeObserver((()=>{this.measureShouldContentScroll()})),this.resizeObserver.observe(this.content)}calcFooterChildren(){this.isFooterEmpty=!(this._footerSlot?.length||this._primaryButtonSlot?.length||this._secondaryButtonSlot?.length||this._tertiaryButtonSlot?.length)}measureShouldContentScroll(){this.shouldContentScroll=Boolean(this.content?.scrollHeight&&this.content?.scrollHeight>this.content.offsetHeight)}showModal(a){if(e.gn.add(this),super.showModal(),null!=a?.blur){const e=!0===a.blur?4:Number(a.blur);this._appliedBlurFilter=n(e),a?.blurElement?(this._blurElement=a.blurElement,t=this._blurElement,r=this._appliedBlurFilter,t.style.filter=t.style.filter+" "+r):(Object.assign(this._fullscreenBlurEl.style,{backdropFilter:this._appliedBlurFilter}),document.body.append(this._fullscreenBlurEl))}var t,r}close(){this.open&&(super.close(),e.gn.remove(this),null!=this._blurElement&&null!=this._appliedBlurFilter?(!function(e,a){const t=e.style.filter.split(" ").filter(Boolean).reverse(),r=t.indexOf(a);if(-1===r)return;t.splice(r,1),e.style.filter=t.reverse().join(" ")}(this._blurElement,this._appliedBlurFilter),this._appliedBlurFilter=null,this._blurElement=null):this._fullscreenBlurEl.remove())}};function n(e){return`blur(${e}px)`}a._([a.b()],r.prototype,"shouldContentScroll",void 0),a._([a.k({slot:"titleGraphic"})],r.prototype,"_titleGraphic",void 0),a._([a.z("#content")],r.prototype,"content",void 0),a._([a.z("#footer")],r.prototype,"footer",void 0),a._([a.b()],r.prototype,"isFooterEmpty",void 0),a._([a.v({slot:"footer",flatten:!0})],r.prototype,"_footerSlot",void 0),a._([a.v({slot:"primaryButton",flatten:!0})],r.prototype,"_primaryButtonSlot",void 0),a._([a.v({slot:"secondaryButton",flatten:!0})],r.prototype,"_secondaryButtonSlot",void 0),a._([a.v({slot:"tertiaryButton",flatten:!0})],r.prototype,"_tertiaryButtonSlot",void 0),r=a._([a.c("faceplate-modal")],r);function i(e){return e?.[0]?.message??"Something went wrong";}const o=e=>({error:e||"There was an error uploading the file."});async function l(a,r){const n=t.bk.get(a.type);if(!n)throw new Error(`${a.type} files are not supported.`);try{const l=await async function(a){const t=await e.v({operation:e.O.CreateSubredditStructuredStylesUploadLease,variables:{input:a}});if(t.errors?.length)throw new Error(i(t.errors));const r=t.data.createSubredditStructuredStylesUploadLease;if(r?.ok&&r.uploadLease)return{uploadLeaseUrl:r.uploadLease.uploadLeaseUrl,uploadLeaseHeaders:r.uploadLease.uploadLeaseHeaders};throw new Error(i(r?.errors))}({...r,filepath:a.name,mimetype:n}),s=await t.bj(a,l);return s?{url:s}:o()}catch(e){return l=e.message,window.Sentry?.captureMessage?.(`Media file upload failed with error: ${l}`),o(e.message)}var l}return {C:class{async makeGQLRequest(...a){return e.v(...a)}async uploadMedia(...e){return l(...e)}async saveImage({subredditId:e,url:a,fileContent:t,uploadType:r,gqlOperation:n}){if(t)try{const n=await this.uploadMedia(t,{subredditId:e,imagetype:r});if(a=n.url?decodeURIComponent(n.url):a,n.error)return this.handleError(r)}catch(e){return this.handleError(r)}try{await this.makeGQLRequest({operation:n,variables:{input:{subredditId:e,[this.getOperationArg(r)]:a??""}}})}catch(e){return this.handleError(r)}return null}async saveCommunityIcon(a,t,r){return this.saveImage({subredditId:a,url:t,fileContent:r,uploadType:e.gp.CommunityIcon,gqlOperation:e.O.UpdateSubredditIcon})}async saveBanner(a,t,r){return this.saveImage({subredditId:a,url:t,fileContent:r,uploadType:e.gp.BannerBackgroundImage,gqlOperation:e.O.UpdateSubredditBanner})}async saveMobileBanner(a,t,r){return this.saveImage({subredditId:a,url:t,fileContent:r,uploadType:e.gp.MobileBannerImage,gqlOperation:e.O.UpdateSubredditBanner})}handleError(a){switch(a){case e.gp.BannerBackgroundImage:return "Something went wrong while saving the banner.";case e.gp.MobileBannerImage:return "Something went wrong while saving the mobile banner.";case e.gp.CommunityIcon:default:return "Something went wrong saving the avatar.";}}getOperationArg(a){switch(a){case e.gp.BannerBackgroundImage:return"bannerBackgroundImage";case e.gp.MobileBannerImage:return"mobileBannerImage";case e.gp.CommunityIcon:default:return"communityIcon"}}},get F(){return r},O:"mod-show-post-level-crowd-control-modal",u:l};}));
SML.dm("CU4mObWU",[],(async()=>{class t{constructor(e,o){this.element=e,this.touch1=null,this.touch2=null,this.touchStartX=null,this.touchStartY=null,this.touchEndX=null,this.touchEndY=null,this.touchMove1=null,this.touchMove2=null,this.touchMoveX=null,this.touchMoveY=null,this.velocityX=null,this.velocityY=null,this.longPressTimer=null,this.doubleTapTimer=null,this.doubleTapWaiting=!1,this.thresholdX=0,this.thresholdY=0,this.disregardVelocityThresholdX=0,this.disregardVelocityThresholdY=0,this.swipingHorizontal=!1,this.swipingVertical=!1,this.swipingDirection=null,this.swipedHorizontal=!1,this.swipedVertical=!1,this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null,this.handlers={panstart:[],panmove:[],panend:[],swipeleft:[],swiperight:[],swipeup:[],swipedown:[],tap:[],doubletap:[],longpress:[],pinch:[],pinchend:[],rotate:[],rotateend:[]},this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.opts=Object.assign({},t.defaults,o),this.element.addEventListener("touchstart",this._onTouchStart,i),this.element.addEventListener("touchmove",this._onTouchMove,i),this.element.addEventListener("touchend",this._onTouchEnd,i),this.opts.mouseSupport&&!("ontouchstart"in window)&&(this.element.addEventListener("mousedown",this._onTouchStart,i),document.addEventListener("mousemove",this._onTouchMove,i),document.addEventListener("mouseup",this._onTouchEnd,i))}destroy(){var t,i;this.element.removeEventListener("touchstart",this._onTouchStart),this.element.removeEventListener("touchmove",this._onTouchMove),this.element.removeEventListener("touchend",this._onTouchEnd),this.element.removeEventListener("mousedown",this._onTouchStart),document.removeEventListener("mousemove",this._onTouchMove),document.removeEventListener("mouseup",this._onTouchEnd),clearTimeout(null!==(t=this.longPressTimer)&&void 0!==t?t:void 0),clearTimeout(null!==(i=this.doubleTapTimer)&&void 0!==i?i:void 0)}on(t,i){if(this.handlers[t])return this.handlers[t].push(i),{type:t,fn:i,cancel:()=>this.off(t,i)}}off(t,i){if(this.handlers[t]){const e=this.handlers[t].indexOf(i);-1!==e&&this.handlers[t].splice(e,1)}}fire(t,i){for(let e=0;e<this.handlers[t].length;e++)this.handlers[t][e](i)}onTouchStart(t){var i,e,o,s,h,n,l,u,r,d,c,a,v,p,m,T,g,M,w,f,y,X,Y,E,b,S;let V=!1;if("mousedown"!==t.type){if(this.touch1||(this.touch1=t.changedTouches[0],V=!0),(V&&t.changedTouches.length>1||!V)&&!this.touch2)return this.touch2=[...t.changedTouches].find((t=>{var i;return t.identifier!==(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||null,this.originalDistance=Math.sqrt(Math.pow((null!==(e=null===(i=this.touch2)||void 0===i?void 0:i.screenX)&&void 0!==e?e:0)-(null!==(n=null!==(s=null===(o=this.touchMove1)||void 0===o?void 0:o.screenX)&&void 0!==s?s:null===(h=this.touch1)||void 0===h?void 0:h.screenX)&&void 0!==n?n:0),2)+Math.pow((null!==(u=null===(l=this.touch2)||void 0===l?void 0:l.screenY)&&void 0!==u?u:0)-(null!==(a=null!==(d=null===(r=this.touchMove1)||void 0===r?void 0:r.screenY)&&void 0!==d?d:null===(c=this.touch1)||void 0===c?void 0:c.screenY)&&void 0!==a?a:0),2)),void(this.originalAngle=Math.atan2((null!==(p=null===(v=this.touch2)||void 0===v?void 0:v.screenY)&&void 0!==p?p:0)-(null!==(M=null!==(T=null===(m=this.touchMove1)||void 0===m?void 0:m.screenY)&&void 0!==T?T:null===(g=this.touch1)||void 0===g?void 0:g.screenY)&&void 0!==M?M:0),(null!==(f=null===(w=this.touch2)||void 0===w?void 0:w.screenX)&&void 0!==f?f:0)-(null!==(E=null!==(X=null===(y=this.touchMove1)||void 0===y?void 0:y.screenX)&&void 0!==X?X:null===(Y=this.touch1)||void 0===Y?void 0:Y.screenX)&&void 0!==E?E:0))/(Math.PI/180));if(!V)return}(V||"mousedown"===t.type)&&(this.thresholdX=this.opts.threshold("x",this),this.thresholdY=this.opts.threshold("y",this),this.disregardVelocityThresholdX=this.opts.disregardVelocityThreshold("x",this),this.disregardVelocityThresholdY=this.opts.disregardVelocityThreshold("y",this),this.touchStartX="mousedown"===t.type?t.screenX:(null===(b=this.touch1)||void 0===b?void 0:b.screenX)||0,this.touchStartY="mousedown"===t.type?t.screenY:(null===(S=this.touch1)||void 0===S?void 0:S.screenY)||0,this.touchMoveX=null,this.touchMoveY=null,this.touchEndX=null,this.touchEndY=null,this.swipingDirection=null,this.longPressTimer=setTimeout((()=>this.fire("longpress",t)),this.opts.longPressTime),this.scale=1,this.rotation=0,this.fire("panstart",t))}onTouchMove(t){var i,e,o,s,h,n,l,u,r,d,c,a,v;if("mousemove"===t.type&&(!this.touchStartX||null!==this.touchEndX))return;let p,m;if("mousemove"!==t.type&&(p=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),this.touchMove1=p||this.touchMove1,m=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)})),this.touchMove2=m||this.touchMove2),"mousemove"===t.type||p){const u=("mousemove"===t.type?t.screenX:null!==(i=null==p?void 0:p.screenX)&&void 0!==i?i:0)-(null!==(e=this.touchStartX)&&void 0!==e?e:0);this.velocityX=u-(null!==(o=this.touchMoveX)&&void 0!==o?o:0),this.touchMoveX=u;const r=("mousemove"===t.type?t.screenY:null!==(s=null==p?void 0:p.screenY)&&void 0!==s?s:0)-(null!==(h=this.touchStartY)&&void 0!==h?h:0);this.velocityY=r-(null!==(n=this.touchMoveY)&&void 0!==n?n:0),this.touchMoveY=r;const d=Math.abs(this.touchMoveX),c=Math.abs(this.touchMoveY);this.swipingHorizontal=d>this.thresholdX,this.swipingVertical=c>this.thresholdY,this.swipingDirection=d>c?this.swipingHorizontal?"horizontal":"pre-horizontal":this.swipingVertical?"vertical":"pre-vertical",Math.max(d,c)>this.opts.pressThreshold&&clearTimeout(null!==(l=this.longPressTimer)&&void 0!==l?l:void 0),this.fire("panmove",t)}"mousemove"!==t.type&&null!=this.touchMove1&&null!=this.touchMove2&&(this.newDistance=Math.sqrt(Math.pow(this.touchMove2.screenX-this.touchMove1.screenX,2)+Math.pow(this.touchMove2.screenY-this.touchMove1.screenY,2)),this.scale=this.newDistance/(null!==(u=this.originalDistance)&&void 0!==u?u:0),this.fire("pinch",t),this.newAngle=Math.atan2((null!==(r=this.touchMove2.screenY)&&void 0!==r?r:0)-(null!==(d=this.touchMove1.screenY)&&void 0!==d?d:0),(null!==(c=this.touchMove2.screenX)&&void 0!==c?c:0)-(null!==(a=this.touchMove1.screenX)&&void 0!==a?a:0))/(Math.PI/180),this.rotation=this.newAngle-(null!==(v=this.originalAngle)&&void 0!==v?v:0),this.fire("rotate",t))}onTouchEnd(t){var i,e,o,s,h,n,l,u,r,d;let c;if("mouseup"!==t.type&&(c=[...t.changedTouches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)})),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch1)||void 0===i?void 0:i.identifier)}))||(this.touch1=null,this.touchMove1=null),[...t.touches].find((t=>{var i;return t.identifier===(null===(i=this.touch2)||void 0===i?void 0:i.identifier)}))||(this.touch2=null,this.touchMove2=null)),"mouseup"!==t.type||this.touchStartX&&null===this.touchEndX){if("mouseup"===t.type||c){this.touchEndX="mouseup"===t.type?t.screenX:null!==(i=null==c?void 0:c.screenX)&&void 0!==i?i:0,this.touchEndY="mouseup"===t.type?t.screenY:null!==(e=null==c?void 0:c.screenY)&&void 0!==e?e:0,this.fire("panend",t),clearTimeout(null!==(o=this.longPressTimer)&&void 0!==o?o:void 0);const a=this.touchEndX-(null!==(s=this.touchStartX)&&void 0!==s?s:0),v=Math.abs(a),p=this.touchEndY-(null!==(h=this.touchStartY)&&void 0!==h?h:0),m=Math.abs(p),T=Math.sqrt(Math.pow(a,2)+Math.pow(p,2)),g=Math.abs(T),M=m/v;v>this.thresholdX||m>this.thresholdY||this.opts.diagonalSwipes&&(g>this.thresholdX||g>this.thresholdY)?(this.swipedHorizontal=v>this.thresholdX||this.opts.diagonalSwipes&&g>this.thresholdX,this.swipedVertical=m>this.thresholdY||this.opts.diagonalSwipes&&g>this.thresholdY,(!this.opts.diagonalSwipes||M<Math.tan((45-this.opts.diagonalLimit)*Math.PI/180)||M>Math.tan((45+this.opts.diagonalLimit)*Math.PI/180))&&(v>=m&&(this.swipedVertical=!1),m>v&&(this.swipedHorizontal=!1)),this.swipedHorizontal&&(a<0?((null!==(n=this.velocityX)&&void 0!==n?n:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdX)&&this.fire("swipeleft",t):((null!==(l=this.velocityX)&&void 0!==l?l:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdX)&&this.fire("swiperight",t)),this.swipedVertical&&(p<0?((null!==(u=this.velocityY)&&void 0!==u?u:0)<-this.opts.velocityThreshold||T<-this.disregardVelocityThresholdY)&&this.fire("swipeup",t):((null!==(r=this.velocityY)&&void 0!==r?r:0)>this.opts.velocityThreshold||T>this.disregardVelocityThresholdY)&&this.fire("swipedown",t))):v<this.opts.pressThreshold&&m<this.opts.pressThreshold&&(this.doubleTapWaiting?(this.doubleTapWaiting=!1,clearTimeout(null!==(d=this.doubleTapTimer)&&void 0!==d?d:void 0),this.fire("doubletap",t)):(this.doubleTapWaiting=!0,this.doubleTapTimer=setTimeout((()=>this.doubleTapWaiting=!1),this.opts.doubleTapTime),this.fire("tap",t)))}this.touch1||this.touch2||(this.fire("pinchend",t),this.fire("rotateend",t),this.originalDistance=null,this.newDistance=null,this.scale=null,this.originalAngle=null,this.newAngle=null,this.rotation=null)}}}t.defaults={threshold:(t,i)=>Math.max(25,Math.floor(.15*("x"===t?window.innerWidth||document.body.clientWidth:window.innerHeight||document.body.clientHeight))),velocityThreshold:10,disregardVelocityThreshold:(t,i)=>Math.floor(.5*("x"===t?i.element.clientWidth:i.element.clientHeight)),pressThreshold:8,diagonalSwipes:!1,diagonalLimit:15,longPressTime:500,doubleTapTime:300,mouseSupport:!0};let i=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){i={passive:!0}}}))}catch(t){}return{T:t}}));
SML.dm("kExRqc7d",["D7lSuCop","CVEbQKiO","CU4mObWU"],(async(t,e,i)=>{const s="var(--bottom-sheet-max-height)";let o=class extends e.s{constructor(){super(...arguments),this.open=!1,this.blocking=!1,this.docked=!1,this.focusManager=new t.ar(this,this),this.inFocusTrap=!1,this._isModal=!1,this._isExpanded=!1,this._isExpandable=!1,this._isDockable=!1,this._gesture=new i.T(this,{mouseSupport:!1}),this._cachedHeight="auto",this._dockedHeight="auto",this._cachedHeightAtTouchStartPx=0,this._rafID=null,this._mutationObserver=void 0,this.show=t=>{this._isModal=!1,this._isExpanded=(t&&"expanded"in t&&t.expanded)??!1,this._isExpandable=t?.expandable??!1,this._isDockable=t?.dockable??!1,this.open=!0,this._isExpandable&&(this._gesture.on("panstart",this._onTouchStart),this._gesture.on("panmove",this._onTouchMove),this._gesture.on("panend",this._onTouchEnd)),this._isExpanded?this._content.style.height=s:""!==this._content.style.height&&"auto"!==this._content.style.height||(this._cachedHeight=this._content.clientHeight+"px",this._content.style.height=this._cachedHeight),this._dockedHeight=this._headerElements[0]?this._headerElements[0].clientHeight-1+"px":"auto",this._mutationObserver||this._connectMutationObserver()},this.showModal=e=>{if(this.open)throw new Error('The element already has an "open" attribute, and therefore cannot be opened modally');t.gn.add(this),this.show(e),this._isModal=!0,t.gi.add(this)},this.close=()=>{const e=t.c("faceplate-close");this.dispatchEvent(e),e.defaultPrevented||(this.open=!1,this._isExpanded=!1,this.inFocusTrap&&(t.gi.remove(this),t.gn.remove(this)),this._isExpandable&&(this._gesture.off("panstart",this._onTouchStart),this._gesture.off("panmove",this._onTouchMove),this._gesture.off("panend",this._onTouchEnd)),this._content.style.height=this._cachedHeight)},this.expand=()=>{if(this.open&&this._isExpandable&&!this._isExpanded){const e=t.c("faceplate-expand");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=s,this.docked=!1,this._isExpanded=!0}},this.collapse=()=>{if(this.open&&this._isExpandable&&this._isExpanded){const e=t.c("faceplate-collapse");if(this.dispatchEvent(e),e.defaultPrevented)return;this._cancelRAF(),this._content.style.height=this._cachedHeight,this.docked=!1,this._isExpanded=!1}},this.dock=()=>{if(!this.open||!this._isDockable||this.docked)return;const e=t.c("faceplate-dock");this.dispatchEvent(e),e.defaultPrevented||(this._cancelRAF(),this._content.style.height=this._dockedHeight,this.docked=!0)},this.undock=()=>{if(!this.open||!this._isDockable||!this.docked)return;const e=this._isExpandable&&this._isExpanded?s:this._cachedHeight,i=t.c("faceplate-undock");this.dispatchEvent(i),i.defaultPrevented||(this._cancelRAF(),this._content.style.height=e,this.docked=!1)},this.recalculateCachedHeight=()=>{const e=this._cachedHeight;this._content.style.height="auto";const i=this._content.clientHeight+"px";this._cachedHeight=i,this._isDockable&&this.docked?this._content.style.height=this._dockedHeight:this._isExpandable&&this._isExpanded?this._content.style.height=s:(this._content.style.height=e,window.requestAnimationFrame((()=>{this._content.style.height=i,this._cancelRAF()})));const o=t.c("__TEST-ONLY_bottom-sheet-recalculation",{cachedHeight:this._cachedHeight,dockedHeight:this._dockedHeight,expandedHeight:s});this.dispatchEvent(o)},this._onTouchStart=()=>{this._cancelRAF(),this._content.style.transitionDuration="0ms",this._cachedHeightAtTouchStartPx=this._content.clientHeight},this._onTouchMove=()=>{this._cancelRAF(),this._isExpanded&&(this._gesture.touchMoveY??0)<=0||(this._rafID=window.requestAnimationFrame((()=>{null!=this._gesture.touchMoveY&&(this._content.style.height=this._cachedHeightAtTouchStartPx-this._gesture.touchMoveY+"px")})))},this._onTouchEnd=()=>{if(this._cancelRAF(),this._content.style.transitionDuration="300ms",!this.open||null==this._gesture.touchMoveY)return;const t=this._gesture.touchMoveY>=this._gesture.thresholdY,e=this._gesture.touchMoveY<=-this._gesture.thresholdY;t?this._isExpanded?this.collapse():this._closeIfNotBlocked():e?this._isExpanded||this.expand():this._isExpanded?this._content.style.height=s:this._content.style.height=this._cachedHeight},this._cancelRAF=()=>{this._rafID&&(window.cancelAnimationFrame(this._rafID),this._rafID=null)},this._renderHandle=()=>this._isExpandable?e.x`<div id="handle" class="${this._isModal?"out":"in"}"></div>`:null,this._handleBackDropKeyUp=t=>{"Enter"===t.key&&this._closeIfNotBlocked()},this._closeIfNotBlocked=()=>{this.blocking||this.close()},this.render=()=>e.x` <div id="backdrop" part="backdrop" class="${this._isModal&&this.open?"blocker":""}" @click="${this._closeIfNotBlocked}" @keyup="${this._handleBackDropKeyUp}"></div> <div id="content" part="content" role="${e.l(this.open?"dialog":void 0)}" aria-label="${e.l(this.label??void 0)}" aria-modal="${e.l(this.open&&this._isModal?"true":void 0)}"> ${this._renderHandle()} <slot name="header"></slot> <slot></slot> </div> `}static get styles(){return e.i`:host{--bottom-sheet-max-height:85vh}@supports (height:95dvh){:host{--bottom-sheet-max-height:95dvh}}:host{position:fixed;bottom:0;inset-inline-start:0;opacity:0;transition-duration:.3s;transition-property:visibility,opacity;transition-timing-function:ease;visibility:hidden;pointer-events:none}:host([open]){opacity:1;z-index:2;visibility:visible}:host([open])>#content{pointer-events:auto;transform:translateY(0)}:host>#backdrop{position:fixed;--backdrop-position-value:-100%;inset-inline:var(--backdrop-position-value) var(--backdrop-position-value);top:var(--backdrop-position-value);bottom:var(--backdrop-position-value)}:host>#backdrop.blocker{background:var(--color-scrim);pointer-events:auto}:host>#content{align-items:center;background:var(--color-ui-modalbackground);bottom:0;border-start-start-radius:var(--rem12);border-start-end-radius:var(--rem12);box-shadow:var(--boxshadow-modal);box-sizing:border-box;display:flex;flex-direction:column;inset-inline-start:0;position:fixed;touch-action:none;transform:translateY(100%);transition-duration:.3s;transition-property:height,transform;transition-timing-function:ease;width:100vw;max-height:var(--bottom-sheet-max-height)}:host>slot:not([name]){align-items:center;display:flex;flex-direction:column;gap:var(--spacer-sm)}#handle{position:absolute;top:0;inset-inline-start:50%;transform:translateX(-50%);height:var(--rem4);width:var(--rem48);border-radius:var(--rem4)}#handle.in{top:var(--spacer-xs);background-color:var(--color-neutral-border)}#handle.out{top:calc(-1 * var(--spacer-xs));background-color:var(--color-global-white)}`}disconnectedCallback(){super.disconnectedCallback(),this._gesture.destroy(),t.gi.remove(this),t.gn.remove(this),this._mutationObserver?.disconnect()}_connectMutationObserver(){this._mutationObserver=new MutationObserver((()=>{window.requestAnimationFrame(this.recalculateCachedHeight)})),this._mutationObserver.observe(this,{characterData:!0,childList:!0,attributes:!1,subtree:!0})}};e._([e.n({type:Boolean,reflect:!0})],o.prototype,"open",void 0),e._([e.n({type:Boolean})],o.prototype,"blocking",void 0),e._([e.n({type:Boolean,reflect:!0})],o.prototype,"docked",void 0),e._([e.n({type:String,attribute:"ariaLabel"})],o.prototype,"label",void 0),e._([e.z("#content")],o.prototype,"_content",void 0),e._([e.k({slot:"header"})],o.prototype,"_headerElements",void 0),o=e._([e.c("faceplate-bottom-sheet")],o)}));
SML.dm("likT9J3g",["CVEbQKiO"],(async e=>{var n,t;!function(e){e.Regular="regular",e.Semibold="semibold"}(n||(n={})),function(e){e.Small="sm",e.Medium="md",e.Large="lg"}(t||(t={})),t.Small,e.q.ExtraSmall,t.Medium,e.q.Small,t.Large,e.q.Medium;const a={sm:"text-12",md:"text-14",lg:"text-16"},i={always:"underline",hover:"hover:underline",none:"no-underline hover:no-underline"},r={primary:"",secondary:"text-secondary-plain hover:text-secondary-plain-hover no-visited visited:text-secondary-plain","plain-weak":"text-secondary-plain-weak hover:text-secondary-plain-hover no-visited visited:text-secondary-plain-weak",media:"text-media-onbackground no-visited visited:text-media-onbackground",inverted:"text-inverted-secondary-plain hover:text-inverted-secondary-plain-hover no-visited visited:text-neutral-background-weak"};return{get A(){return t},a:({attributes:n,children:t,fontWeight:d="regular",size:s,suppressVisitedStyle:o=!1,underline:l="hover",visited:m,appearance:c="primary",trailingIcon:u})=>{const{html:v,createElement:p}=e.g(),g=v`${t}${u?v`<span class="ms-2xs align-middle">${u}</span>`:""}`,x=`${n?.className||""} a cursor-pointer\n  ${c?r[c]:""}\n  ${s?a[s]:""}\n  ${"semibold"===d?"font-semibold":""}\n  ${o?"no-visited":""}\n  ${l?i[l]:""}\n  ${m?"visited":""}`;return p("a",{...n,rpl:!0,className:x},g)},get b(){return n}}}));
SML.dm("DKUVnjU0",["CVEbQKiO","CCphb8vV","CCOsF7IJ","D7lSuCop","Mh6HSk7W","D9dm-Sy6"],(async(t,e,o)=>{const s=new WeakMap;let r=class extends o.C{constructor(){super(),this.ariaRole="radio"}static get styles(){return[super.styles,t.i`:host(:focus) .icon{border-radius:100%}:host{margin:var(--spacer-sm)}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-input-radio-hover)}:host .icon{color:var(--color-input-radio)}:host(:hover) .icon{color:var(--color-input-radio-hover)}`]}connectedCallback(){super.connectedCallback(),this._contextKey=e.e(this.name,this.getRootNode()),s.has(this._contextKey)?s.get(this._contextKey).add(this):s.set(this._contextKey,new Set([this]))}disconnectedCallback(){super.disconnectedCallback(),this._contextKey&&s.get(this._contextKey)?.delete(this)}handleInteraction(){if(this._contextKey){const t=s.get(this._contextKey);if(t)for(const e of t)e!==this&&(e.checked=!1)}this.checked=!0,super.handleInteraction()}render(){const e={size:t.q.Small,attributes:{className:"icon"}};return t.x` ${this.checked?t.D(e):t.E(e)} ${super.render()} `}};return r=t._([t.c("faceplate-radio-input")],r),{get FaceplateRadioInput(){return r}}}));
SML.dm("D9dm-Sy6",["D7lSuCop"],(async e=>{const t=e.fE(),n=function(){const e=new WeakMap;let t=!1;return{get isDirty(){return t},getRegistration:(e,t,n)=>({target:e,key:t,value:n}),register({target:n,key:s,value:r}){const a=e.get(n);if(a&&!a.has(s))a.set(s,r);else{if(a)throw new Error(`Cannot register value for key ${s}; something is already registered!`);e.set(n,new Map([[s,r]]))}t=!0},unregister({target:n,key:s,value:r}){const a=e.get(n);a&&a.get(s)===r&&(a.delete(s),t=!0)},getRegisteredElements(n){const s=e.get(n);return t=!1,s},unregisterAll(n){e.delete(n),t=!0}}}(),s=e.fD("FaceplateForm"),r=s.registerAncestorClass,a=s.connectToAncestor,i=Symbol.for("mixins/form-association");function c(e){return!!e&&i in e.constructor}function o(e){return!!e&&(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement||e instanceof HTMLSelectElement||i in e.constructor)}const l=new Set(["checkbox","radio"]);function u(e){return o(e)&&l.has(e.type)||c(e)&&"checked"in e}const p=new Set(["radio"]);return{F:i,a:u,b:c,c:a,d:function(e){return!!e&&(e instanceof HTMLSelectElement||i in e.constructor&&"options"in e)},e:o,f:function(e){return null!=e},g:function(e){return u(e)&&p.has(e.type)},h:n,i:function(e,t,{className:n,size:s="small",label:r,description:a,leadingContent:i,trailingContent:c,truncateTrailingContent:o,disabled:l=!1,id:u,testId:p}){return e`<div class="flex justify-between gap-[0.5rem] text-secondary py-xs ${l?"opacity-60 pointer-events-none":""} ${n??""}" id="${t(u)}" data-testid="${t(p)}"> <span class="flex items-center gap-xs min-w-0 ${o?"shrink-0 grow":"shrink"}"> ${i?e`<span class="flex shrink-0 items-center justify-center h-xl w-xl"> <span class="text-20 leading-4">${i}</span> </span>`:void 0} <span class="flex flex-col justify-center min-w-0 shrink py-[var(--rem6)]"> <span class="${"small"===s?"text-14":"text-16"} break-normal">${r}</span> <span class="text-12 text-secondary-weak break-normal">${a}</span> </span> </span> <span class="flex items-center ${o?"shrink pl-[8px] min-w-0":"shrink-0"}"> <span class="flex items-center justify-center h-lg ${o?"min-w-0":""}">${c}</span> </span> </div>`},j:t,r}}));
SML.dm("Mh6HSk7W",["CVEbQKiO","D9dm-Sy6","D7lSuCop"],(async(t,e,i)=>{class s{constructor(t,e,i,s,a,n,r,l,o,d){this.valueMissing=t,this.typeMismatch=e,this.patternMismatch=i,this.tooLong=s,this.tooShort=a,this.rangeUnderflow=n,this.rangeOverflow=r,this.stepMismatch=l,this.badInput=o,this.customError=d}}class a{constructor(t){this.submissionValue=null,this.constraintsSuffered={},this.customValidityMessage="",this.validityMessage="",this.validationAnchor=null,this.target=t,this.input=document.createElement("input"),this.input.className="faceplate-internal-input",this.input.tabIndex=-1,this.input.style.opacity="0",this.input.style.width="1px",this.input.style.height="100%",this.input.style.padding="0",this.input.style.border="0",this.input.style.pointerEvents="none",this.input.hidden=!0}_connect(t){t?(this._form=t,e.j.register(t,this.target)):this._form=void 0}_disconnect(){this._form&&(e.j.unregister(this._form,this.target),this._form=void 0)}getFormValue(){return this.submissionValue}setFormValue(t){this.submissionValue=t}get form(){return this._form}isSufferingFromItsConstraints(){for(const t in this.constraintsSuffered)if(this.constraintsSuffered[t])return!0;return!1}setValidity(t,e,i=null){if(t){const e=this.convertFlagsToValidityState(t);for(const i in t)this.constraintsSuffered[i]=e[i]}else this.constraintsSuffered={};const s=!!e&&this.isSufferingFromItsConstraints();if(t&&Object.prototype.hasOwnProperty.call(t,"customError")){const t=this.constraintsSuffered.customError&&e?e:"";this.customValidityMessage=t}else this.validationAnchor=i,this.validityMessage=s&&e?e:"";(this.validationAnchor||this.input).setCustomValidity(this.validationMessage),this.target.setAttribute("faceplate-validity",s?"invalid":"valid")}get willValidate(){return!(this.target.disabled||null===this.submissionValue)}convertFlagsToValidityState(t){return new s(!!t.valueMissing,!!t.typeMismatch,!!t.patternMismatch,!!t.tooLong,!!t.tooShort,!!t.rangeUnderflow,!!t.rangeOverflow,!!t.stepMismatch,!!t.badInput,!!t.customError)}get validity(){const t=this.constraintsSuffered;return this.convertFlagsToValidityState(t)}get validationMessage(){return this.customValidityMessage||this.validityMessage}dispatchInvalidEvent(){const t=new Event("invalid",{bubbles:!0,cancelable:!0});return this.target.dispatchEvent(t),t}checkValidity(){return!this.isSufferingFromItsConstraints()||(this.dispatchInvalidEvent(),!1)}reportValidity(){if(this.isSufferingFromItsConstraints()){if(!this.dispatchInvalidEvent().defaultPrevented){(this.validationAnchor||this.input).reportValidity()}return!1}return!0}}const n=i.fE(),r=new MutationObserver((t=>{for(const e of t){if("attributes"!==e.type||"disabled"!==e.attributeName||!(e.target instanceof HTMLFieldSetElement))continue;const t=n.getRegisteredElements(e.target);if(t)for(const i of t)i.formDisabledCallback&&i.formDisabledCallback(i.disabled||e.target.disabled)}}));function l(t){if(e.F in t)return t;class i extends t{constructor(){super(...arguments),this._internals=new a(this)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),e.c(this).then((t=>{if(!t||!this.isConnected)return;this._internals._connect(t),this.formAssociatedCallback&&this.formAssociatedCallback(t);let e=this;for(;e.parentElement&&(e=e.parentElement,e!==t)&&!(e instanceof HTMLLegendElement);)if(e instanceof HTMLFieldSetElement){this._fieldSet=e;n.getRegisteredElements(e)||r.observe(e,{attributes:!0}),n.register(e,this);break}this.formDisabledCallback&&this.formDisabledCallback(this.disabled)}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._internals._disconnect(),this.formAssociatedCallback&&this.formAssociatedCallback(null),this._fieldSet&&(n.unregister(this._fieldSet,this),this._fieldSet=void 0)}get value(){return this._internals.getFormValue()}set value(t){this._internals.setFormValue(t),this.syncInputValidity(!1)}get form(){return this._internals.form}get name(){return this.getAttribute("name")||""}get disabled(){return this.hasAttribute("disabled")||!(!this._fieldSet||!this._fieldSet.disabled)}set disabled(t){t?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.formDisabledCallback&&this.formDisabledCallback(t||!(!this._fieldSet||!this._fieldSet.disabled))}get type(){return this.localName}get validity(){return this._internals.validity}get validationMessage(){return this._internals.validationMessage}get willValidate(){return this._internals.willValidate}checkValidity(){return this._internals.checkValidity()}reportValidity(){return this._internals.reportValidity()}setCustomValidity(t){this._internals.setValidity({customError:!!t},t)}syncInputValidity(t=!0){var e;const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("input:not(.faceplate-internal-input),textarea");if(!i)return;t&&this.setAttribute("faceplate-dirty","");let s={};if(this._internals.validity.customError){for(const t in i.validity)s[t]=i.validity[t];s.customError=!0}else s=i.validity;this._internals.setValidity(s,i.validationMessage||this._internals.validationMessage)}}return i[e.F]=!0,i}class o extends(l(t.s)){static get styles(){return t.i`:host{display:inline-block;position:relative}:host([aria-disabled=true]){cursor:not-allowed;opacity:.5}:host([faceplate-validity=invalid]){border-color:var(--color-danger-content)}.faceplate-internal-input{position:absolute;left:50%;bottom:0}`}get disabled(){return super.disabled}set disabled(t){super.disabled=t}constructor(){super(),this.ariaDisabled="false",this.addEventListener("focus",this.dispatchFocusin)}dispatchFocusin(){const t=new FocusEvent("focusin",{bubbles:!0});this.dispatchEvent(t)}render(){return t.x` ${this._internals.input} `}formDisabledCallback(t){this.ariaDisabled=t?"true":"false"}formResetCallback(){this.value=this.getAttribute("value"),this.removeAttribute("faceplate-dirty")}}t._([t.n({type:Boolean,reflect:!0})],o.prototype,"disabled",null),t._([t.n({type:String,attribute:"aria-disabled",reflect:!0})],o.prototype,"ariaDisabled",void 0);function d(t){return t<10?`0${t}`:t}return{F:class extends o{async firstUpdated(){const t=await e.c(this);t&&this.isConnected&&t.register(this)}},I:o,M:999,T:function(){return o},W:l,a:function(t){const[e,i,s]=t.split("-").map(Number);return new Date(e,i-1,s)},g:function(t){const[e,i,s]=Array.from(t).map((t=>parseInt(t?.value??"",10)));if(!s||!i||!e)return null;const a=new Date(e,i,0).getDate(),n=(new Date).getFullYear();return s<0||s>a||i<1||i>12||e<n-120||e>n-5?null:`${e}-${d(i)}-${d(s)}`}}}));
SML.dm("B8BAxqC_",["CVEbQKiO","D9dm-Sy6","D7lSuCop","Mh6HSk7W"],(async(t,e,a,i)=>{const r=t.e(class extends t.a{constructor(e){if(super(e),e.type!==t.t.PROPERTY&&e.type!==t.t.ATTRIBUTE&&e.type!==t.t.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!t.j(e))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(e,[a]){if(a===t.T||a===t.A)return a;const i=e.element,r=e.name;if(e.type===t.t.PROPERTY){if(a===i[r])return t.T}else if(e.type===t.t.BOOLEAN_ATTRIBUTE){if(!!a===i.hasAttribute(r))return t.T}else if(e.type===t.t.ATTRIBUTE&&i.getAttribute(r)===a+"")return t.T;return t.b6(e),a}});class s{constructor(t,e){this._observedNames=new Set,this._previousStates=new Map,this._records=new Map,this._eventListener=t=>{this._processRecord(t.detail)},this._callCallback=()=>{this._records.size&&this._callback(this.takeRecords(),this)},this._callback=t,this.form=e.form}_processRecord(t){const e=!this._records.size,{input:a,message:i,name:r}=t;if(!this._observedNames.has(r))return;this._previousStates.get(r)!==i&&(this._records.set(r,{target:a,message:i,name:r}),this._previousStates.set(r,i),this._records.size&&e&&queueMicrotask(this._callCallback))}observe(t){if(this._observedNames.has(t))return;this._observedNames.add(t),1===this._observedNames.size&&this.form.addEventListener("_faceplate-validation-change",this._eventListener);const e=this.form.elements[t];!e||e instanceof HTMLOutputElement||Array.isArray(e)||this._processRecord({input:e,name:t,message:e.validationMessage})}disconnect(){this._observedNames.size&&(this._observedNames.clear(),this._previousStates.clear(),this._records.clear(),this.form.removeEventListener("_faceplate-validation-change",this._eventListener))}takeRecords(){const t=Array.from(this._records.values());return this._records=new Map,t}unobserve(t){this._observedNames.has(t)&&(this._observedNames.delete(t),this._previousStates.delete(t),this._records.delete(t),this._observedNames.size||this.disconnect())}}let n=class extends t.s{constructor(){super(...arguments),this.name="",this.level=null,this.placeholder="",this.ariaLive=null,this.message="",this.characterCount=Number.NEGATIVE_INFINITY,this.characterCountAriaLabel="",this.visuallyHiddenText="",this.isInputDirty=!0,this._message="",this.setIsDirtyByAttribute=t=>{this.isInputDirty=t.hasAttribute("faceplate-dirty")},this.onFormConnect=t=>{t?.addEventListener("faceplate-submit",(()=>{this.isInputDirty=!0})),t&&this.isConnected&&(this._observer=new s((t=>{for(const e of t)if(e.name===this.name){if(e.target instanceof i.F){this.setIsDirtyByAttribute(e.target);new MutationObserver((t=>{for(const e of t)"faceplate-dirty"===e.attributeName&&this.setIsDirtyByAttribute(e.target),"faceplate-validity"===e.attributeName&&this.toggleSuccessStyling(e.target)})).observe(e.target,{attributes:!0})}else this.isInputDirty=!0;this.setMessage(this.message||e.message,"valid"===e.target.getAttribute("faceplate-validity")?a.a4.success:a.a4.error)}}),{form:t}),this._observer.observe(this.name),this._observer.form.addEventListener("faceplate-alert",this._handleAlert))},this.associateForm=t=>{this.onFormConnect(t)},this._handleAlert=t=>{this.isInputDirty=!0;const{name:e,level:i,message:r}=t.detail;e===this.name&&i!==a.a4.error&&this.setMessage(r,i)},this.toggleSuccessStyling=t=>{this.isInputDirty&&("valid"===t.getAttribute("faceplate-validity")?this.shadowRoot?.getElementById("helper-text")?.classList.add("success"):this.shadowRoot?.getElementById("helper-text")?.classList.remove("success"))}}connectedCallback(){super.connectedCallback(),e.c(this).then(this.onFormConnect)}disconnectedCallback(){super.disconnectedCallback(),this._observer&&(this._observer.disconnect(),this._observer.form.removeEventListener("faceplate-alert",this._handleAlert))}setMessage(t,e){t&&void 0!==e?this.level=a.a4[e]:this.removeAttribute("level"),this._message=t||""}get textContent(){return this.shadowRoot?.firstElementChild?.textContent||""}get innerText(){return this.shadowRoot?.firstElementChild?.innerText||""}static get styles(){return t.i`:host{display:block;font-size:var(--font-small);color:var(--color-input-helper-text);line-height:var(--size-md);font-size:var(--font-small);box-sizing:border-box}.container{display:flex;justify-content:space-between;padding-top:var(--spacer-input-padding-top);line-height:var(--size-md);font-size:var(--font-small)}.success,:host([level=success]){color:var(--color-success-content)}.overflow-char-limit,:host([level=alert]),:host([level=critical]),:host([level=emergency]),:host([level=error]){color:var(--color-danger-content)}:host([level=warning]){color:var(--color-alert-caution)}:host([level=notice]){color:var(--color-success-content)}.pristine{color:var(--color-input-helper-text)}:host([character-count]) .character-count{margin-inline-start:var(--spacer-xs);flex-shrink:0}.empty{padding:0}`}render(){const e=this.characterCount>Number.NEGATIVE_INFINITY;return this.placeholder||this._message||e?t.x`<span aria-live="${t.l(this.ariaLive??void 0)}" class="${a.x({container:!0,pristine:!this.isInputDirty})}"> <span id="helper-text">${this.isInputDirty&&this._message?this._message:this.placeholder}</span> ${e?t.x`<span class="character-count ${this.characterCount<0?"overflow-char-limit":""}" aria-label="${t.l(this.characterCountAriaLabel)}">${this.characterCount}</span>`:void 0} </span> <faceplate-screen-reader-content aria-live="assertive">${this.visuallyHiddenText}</faceplate-screen-reader-content>`:t.x`<faceplate-screen-reader-content aria-live="polite">${this.visuallyHiddenText}</faceplate-screen-reader-content>`}};t._([t.n({type:String,reflect:!0})],n.prototype,"name",void 0),t._([t.n({type:String,reflect:!0})],n.prototype,"level",void 0),t._([t.n({type:String})],n.prototype,"placeholder",void 0),t._([t.n({type:String,reflect:!0,attribute:"aria-live"})],n.prototype,"ariaLive",void 0),t._([t.n({type:String,attribute:"message"})],n.prototype,"message",void 0),t._([t.n({type:Number,attribute:"character-count"})],n.prototype,"characterCount",void 0),t._([t.n({type:String,attribute:"character-count-aria-label"})],n.prototype,"characterCountAriaLabel",void 0),t._([t.n({type:String,attribute:"visually-hidden-text"})],n.prototype,"visuallyHiddenText",void 0),t._([t.b()],n.prototype,"isInputDirty",void 0),t._([t.b()],n.prototype,"_message",void 0),n=t._([t.c("faceplate-form-helper-text")],n);class l extends i.F{constructor(){super(...arguments),this.suffix="",this.value="",this.name="",this.placeholder="",this.required=!1,this.screenReaderContent="",this.novalidate=!1,this.helperTextLevel=null,this.helperTextPlaceholder="",this.helperTextAriaLive="polite",this.helperTextMessage="",this.hasLabel=!1,this.hasTrailingButton=!1,this.statefulInput=!1,this.reportedDirty=!1,this.hasValidationHelpers=!1,this.suppressInternalClicks=!1,this.validationMsg="",this.allowMaxLengthOverflow=!1,this.setFormValidationHelpers=t=>{t&&(t.addEventListener("faceplate-submit",this.setDirtyAttribute),this.helperText?.associateForm(t),this.hasValidationHelpers=!0)},this.setStatefulInputByValue=()=>{this.statefulInput=!this.isEmpty},this.inputContainer=e=>t.x` <span class="${a.x({"input-container":!0})}"> ${e} </span> `,this.labelTextWrapper=()=>{const e=t=>t&&t[0]?.textContent;return t.x` <span class="label-text inner-label" id="fp-input-label"><slot name="label" @slotchange="${t=>this.onSlotChange({event:t,property:"hasLabel",name:"label",hasChanged:e})}"></slot>${this.required?t.x`<span class="required-asterisk" aria-hidden="true">*</span>`:null}</span> `},this.setDirtyAttribute=()=>{this.setAttribute("faceplate-dirty","")},this.onSlotChange=({event:t,property:e,name:a,hasChanged:i})=>{t.target?.name===a&&(this[e]=i?i(t.target?.assignedElements()):t.target?.assignedNodes().length>0)}}async connectedCallback(){super.connectedCallback(),this.addEventListener("focus",this.onFocus.bind(this)),this.addEventListener("blur",this.onBlur.bind(this));const t=await e.c(this);this.setFormValidationHelpers(t)}disconnectedCallback(){super.disconnectedCallback(),this?.removeEventListener("focus",this.onFocus),this?.removeEventListener("blur",this.onBlur),this.form?.removeEventListener("faceplate-submit",this.setDirtyAttribute)}async firstUpdated(){super.firstUpdated(),this.calculateLabelPosition(),this.validateMaxLength()}updated(t){if(t.get("prefix")&&this.calculateLabelPosition(),void 0!==t.get("statefulInput")){const t=this.shadowRoot?.querySelector(".input-container")?.classList;this.statefulInput?t.add("stateful-input"):t.remove("stateful-input")}t.has("value")&&(super.value=this.value,this.setStatefulInputByValue())}get delegatedFocusElements(){return[this.innerInput]}static get styles(){return[super.styles,t.i`label{display:flex;position:relative}:host{outline:0;font-family:var(--font-sans);cursor:text}:host input,:host textarea{font:inherit;color:var(--color-neutral-content-strong);padding:0}.label-container{display:inline-flex;position:relative;height:var(--rem40);align-items:center;box-sizing:border-box}:host([appearance=bordered]) .label-container{background:var(--color-input-bordered);color:var(--color-input-bordered-text)}:host([appearance=secondary]) .label-container{background:var(--color-input-secondary);border-radius:var(--radius-md);outline:0;color:var(--color-input-secondary-text)}:host([appearance=secondary]) .label-container:hover{background:var(--color-input-secondary-hover)}:host([appearance=bordered]) .label-container:hover{background:var(--color-input-bordered-hover)}:host(:focus-within) .label-container{outline:1px auto var(--color-global-focus)}:host([faceplate-validity=invalid][faceplate-dirty]) .label-container{border-color:transparent;box-shadow:0 0 0 var(--rem2) var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .label-container{border-color:transparent;box-shadow:none}:host .label-container,:host faceplate-form-helper-text{padding-inline-start:var(--spacer-md)}:host .label-container,:host faceplate-form-helper-text:not(.helper-text-without-label-with-trailing){padding-inline-end:var(--spacer-md)}:host([appearance=secondary]) .label-container{align-items:center}:host .label-container.with-trailing-button{padding-inline-end:var(--spacer-xs)}.label-container.interior-label{height:var(--rem56)}.input-container{font:var(--font-16-20-regular)}::slotted([slot=leadingIcon]),::slotted([slot=trailingIconButton]){color:var(--color-neutral-content-weak);display:inline-flex;align-items:center}:host([faceplate-validity=valid][faceplate-dirty]) .trailing-icon.valid{color:var(--color-success-background)}.required-asterisk,:host([faceplate-validity=invalid][faceplate-dirty]) .trailing-icon.invalid{color:var(--color-danger-content)}:host([faceplate-validity=valid][novalidate]) .trailing-icon.valid{display:none}.trailing-icon,::slotted([slot=trailingIcon]){margin-inline-start:var(--spacer-xs);flex-shrink:0}:host([disabled]){color:var(--color-neutral-content-disabled)}:host([faceplate-validity=invalid][faceplate-dirty]) .invalid,:host([faceplate-validity=valid][faceplate-dirty]) .valid{display:inline-block}.trailing-icon{display:none}:host .label-container.without-label faceplate-form-helper-text,:host([appearance=secondary]) .label-container.without-label{padding-top:var(--rem10);padding-bottom:var(--rem10)}:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label),:host([faceplate-validity=valid]:not([disabled])[faceplate-dirty]) .label-text:not(.inner-label){color:var(--color-label-default)}.label-text{position:absolute;pointer-events:none}:host([disabled]) .label-text:not(.inner-label){color:var(--color-neutral-content-disabled)}.stateful-input .label-text:not(.inner-label){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.stateful-input .label-text.inner-label{transform:translate(calc(-1 * var(--left-label-position)),calc(-1 * (var(--rem16))));font-size:var(--size-sm);line-height:var(--rem16);white-space:nowrap}.label-container:not(.without-label) .input-container:not(.stateful-input) input::placeholder,.label-container:not(.without-label) .input-container:not(.stateful-input) textarea::placeholder{opacity:0}.label-container:not(.without-label) .input-container.stateful-input{transform:translateY(var(--spacer-xs))}.activated,.activated .label-text.inner-label{transition:all 150ms ease-out}.inner-label{inset-inline-start:var(--left-label-position)}.input-container:not(.stateful-input) .inner-label{transform:translateY(0);transition:transform 150ms ease}.hidden{display:none}.label-text:not(.inner-label){color:var(--color-label-default)}slot[name=clearButton]:not(.has-value){display:none}.input-boundary-box{display:flex;align-items:center}.input-boundary-box,.label-container{flex:1}.label-container:not(.without-label) .input-boundary-box{padding:var(--spacer-xs) 0}#trailing-icons-container{display:flex;align-items:center;gap:var(--spacer-xs);justify-content:flex-end}:host([persistent-trailing-icon]) #trailing-icons-general{flex-direction:row-reverse}.input-prefix,.input-suffix,.label-text{color:var(--color-label-default)}:host .without-label.with-trailing-button{padding-inline-end:var(--spacer-2xs)}.input-container{position:relative;transform:translateY(0);display:flex;align-items:center;width:100%;line-height:var(--rem20)}:host([faceplate-validity=invalid]:not([persistent-trailing-icon])[faceplate-dirty]) ::slotted([slot=trailingIconButton]){display:none}#trailing-icons-general{display:flex;align-items:center}#trailing-icons-validation{display:flex}:host(:not([faceplate-dirty])) #trailing-icons-validation{display:none}`]}get isEmpty(){return!(!this.innerInput?.value&&this.innerInput?.validity.badInput)&&!(this.innerInput?.value??this.value)}onFocus(){this.hasAttribute("faceplate-dirty")&&!this.reportedDirty&&(this.reportedDirty=!0),this.removeAttribute("faceplate-dirty"),this.shadowRoot?.querySelector(".input-container")?.classList.add("activated"),this.isEmpty&&(this.statefulInput=!0)}onBlur(){this.isEmpty&&(this.statefulInput=!1),this.reportedDirty&&this.setAttribute("faceplate-dirty","")}focus(){this.innerInput?.focus()}blur(){this.innerInput?.blur()}onChange(t){const e=t?.target;this.value=e?.value||"",this.dispatchEvent(new InputEvent("change",{bubbles:!0}))}onInput(t){const e=t?.target;this.value=e?.value||"",this.handleCharLimit?.(),this.validateMaxLength(),this.setStatefulInputByValue()}validateMaxLength(){if(this.allowMaxLengthOverflow&&this.maxLength){const t=this._internals.validationMessage===this.validationMsg,e=this.value.length>this.maxLength;!t&&e?this.setCustomValidity(this.validationMsg):t&&!e&&this.setCustomValidity("")}}handleCharLimit(){const t=this.maxLength&&this.value.length>=this.maxLength;this.helperText&&this.helperTextScreenReaderMsg&&(t?this.helperText.visuallyHiddenText=this.helperTextScreenReaderMsg:!t&&this.helperText.visuallyHiddenText&&(this.helperText.visuallyHiddenText=""))}async calculateLabelPosition(t=0){let e=0,a=0;const i=this.shadowRoot?.querySelector(".input-prefix");if(i){!getComputedStyle(this.shadowRoot?.host).getPropertyValue("--font-16-20-regular").trim().length&&t<5&&setTimeout((()=>{this.calculateLabelPosition(t+1)}),50),a=i.getBoundingClientRect().width;const r=getComputedStyle(this.shadowRoot?.querySelector(".input-prefix")).getPropertyValue("margin-inline-end");e+=a+parseFloat(r)}(this.shadowRoot?.querySelector("label")).style.setProperty("--left-label-position",`${e}px`)}onLabelClick(t){this.suppressInternalClicks&&"input"!==t.target.nodeName.toLowerCase()&&t.stopPropagation()}renderInput(e){let i;return this.characterCount&&(i=this.maxLength?this.maxLength-this.value.length:this.value.length),t.x`<label @click="${this.onLabelClick}"> <div class="${a.x({"label-container":!0,"interior-label":!0,"without-label":!this.hasLabel,"with-trailing-button":this.hasTrailingButton})}"> <span class="input-boundary-box"> <slot name="leadingIcon"></slot> ${this.inputContainer(t.x` ${this.prefix?t.x`<span class="input-prefix">${this.prefix}</span>`:void 0} ${this.labelTextWrapper()} ${e} ${this.suffix?t.x`<span class="input-suffix">${this.suffix}</span>`:void 0} `)} <span id="trailing-icons-container"> <span id="trailing-icons-validation"> ${t.aC({attributes:{className:"trailing-icon invalid"},size:t.q.Medium})} ${t.F({attributes:{className:"trailing-icon valid"},size:t.q.Medium})} </span> <span id="trailing-icons-general"> <slot name="trailingIconButton" @slotchange="${t=>this.onSlotChange({event:t,property:"hasTrailingButton",name:"trailingIconButton"})}"> </slot> <slot name="clearButton" class="${a.x({"has-value":!!this.value.length})}"></slot> </span> </span> </span> </div> </label> <faceplate-form-helper-text class="${a.x({"no-label":!this.hasLabel,"helper-text-without-label-with-trailing":!this.hasLabel&&this.hasTrailingButton})}" character-count="${t.l(i)}" name="${this.name}" aria-live="${t.l(this.helperTextAriaLive??void 0)}" message="${t.l(this.helperTextMessage)}" level="${t.l(this.helperTextLevel??void 0)}" placeholder="${this.helperTextPlaceholder}" character-count-aria-label="${t.l(this.characterCountAriaLabel)}"> </faceplate-form-helper-text>`}}return l.clearButton=(e={})=>a.k({attributes:{...e,type:"button"},appearance:"plain",size:a._.Small,leadingIcon:t.ag({attributes:{className:"trailing-icon"},size:t.q.Medium})}),t._([t.n({type:String})],l.prototype,"suffix",void 0),t._([t.n({type:String})],l.prototype,"value",void 0),t._([t.n({type:String})],l.prototype,"name",void 0),t._([t.n({type:String})],l.prototype,"placeholder",void 0),t._([t.n({type:Boolean})],l.prototype,"required",void 0),t._([t.n({type:String})],l.prototype,"screenReaderContent",void 0),t._([t.n({type:String})],l.prototype,"autocomplete",void 0),t._([t.n({type:String})],l.prototype,"inputmode",void 0),t._([t.n({type:Boolean})],l.prototype,"novalidate",void 0),t._([t.n({type:Number,attribute:"maxlength"})],l.prototype,"maxLength",void 0),t._([t.n({type:Number,attribute:"minlength"})],l.prototype,"minLength",void 0),t._([t.z("input,textarea")],l.prototype,"innerInput",void 0),t._([t.z("faceplate-form-helper-text")],l.prototype,"helperText",void 0),t._([t.n({type:String,reflect:!0,attribute:"helper-text-level"})],l.prototype,"helperTextLevel",void 0),t._([t.n({type:String,attribute:"helper-text-placeholder"})],l.prototype,"helperTextPlaceholder",void 0),t._([t.n({type:String,reflect:!0,attribute:"helper-text-aria-live"})],l.prototype,"helperTextAriaLive",void 0),t._([t.n({type:String,attribute:"helper-text-message"})],l.prototype,"helperTextMessage",void 0),t._([t.n({type:Boolean,attribute:"character-count"})],l.prototype,"characterCount",void 0),t._([t.n({type:String,attribute:"helper-text-screen-reader-msg"})],l.prototype,"helperTextScreenReaderMsg",void 0),t._([t.n({type:String,attribute:"character-count-aria-label"})],l.prototype,"characterCountAriaLabel",void 0),t._([t.b()],l.prototype,"hasLabel",void 0),t._([t.b()],l.prototype,"hasTrailingButton",void 0),t._([t.k({slot:"label"})],l.prototype,"labelSlot",void 0),t._([t.k({slot:"trailingIconButton"})],l.prototype,"trailingIconButtonSlot",void 0),t._([t.b()],l.prototype,"statefulInput",void 0),t._([t.n({type:Boolean,attribute:"suppress-internal-clicks"})],l.prototype,"suppressInternalClicks",void 0),t._([t.n({type:Boolean})],l.prototype,"readonly",void 0),t._([t.n({type:String,attribute:"validation-message"})],l.prototype,"validationMsg",void 0),t._([t.n({type:Boolean,attribute:"allow-max-length-overflow"})],l.prototype,"allowMaxLengthOverflow",void 0),{T:l,l:r}}));
SML.dm("DZMRR9gi",["CVEbQKiO","B8BAxqC_","D7lSuCop","CCphb8vV"],(async(e,a,i,n)=>{var o;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary"}(o||(o={}));let r=class extends a.T{constructor(){super(...arguments),this.prefix="",this.type="text",this.appearance=o.SECONDARY,this.persistentTrailingIcon=!1,this.withSelect=!1}static get styles(){return[super.styles,e.i`input{outline:0;background:0 0;border:none;width:100%}:host([appearance=bordered]) .label-container:not(.without-label) .input-container.stateful-input{transform:translateY(0)}::slotted([slot=leadingIcon]){margin-inline-end:var(--spacer-xs);display:flex}.input-prefix{margin-inline-end:var(--spacer-4xs)}.input-suffix{margin-inline-start:var(--spacer-4xs)}.input-prefix,.input-suffix{flex-shrink:0}:host([appearance=bordered]) .label-container{border-radius:20px 20px 0 0;align-items:flex-end;padding-bottom:var(--spacer-2xs)}:host([appearance=bordered]) .input-boundary-box{margin-bottom:var(--rem6);align-items:center;padding:0}:host .label-container.without-label{height:var(--rem40)}:host(:focus-within) .label-container:not(.with-trailing-button) ::slotted([slot=clearButton].has-value),:host([faceplate-validity=invalid]:not([disabled])[faceplate-dirty]) ::slotted([slot=clearButton].has-value){display:inline-block}`]}dispatchFocusin(){}render(){return super.renderInput(e.x`<input aria-labelledby="fp-input-label" ?readonly="${this.readonly}" type="${this.type}" pattern="${e.l(this.pattern)}" @input="${this.onInput}" @change="${this.onChange}" @mouseover="${e=>e.stopPropagation()}" .value="${a.l(this.value)}" name="${e.l(this.withSelect?void 0:this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" min="${e.l(this.min)}" max="${e.l(this.max)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}" step="${e.l(this.step)}">`)}};e._([e.n({type:String})],r.prototype,"prefix",void 0),e._([e.n({type:String})],r.prototype,"type",void 0),e._([e.n({type:String})],r.prototype,"pattern",void 0),e._([e.n({converter:e=>"string"==typeof e&&"any"===e.toLowerCase()?"any":isNaN(e)?void 0:Number(e)})],r.prototype,"step",void 0),e._([e.n({type:Number})],r.prototype,"min",void 0),e._([e.n({type:Number})],r.prototype,"max",void 0),e._([e.n({type:String,reflect:!0})],r.prototype,"appearance",void 0),e._([e.n({type:Boolean,attribute:"persistent-trailing-icon"})],r.prototype,"persistentTrailingIcon",void 0),e._([e.n({type:Boolean,attribute:"with-select"})],r.prototype,"withSelect",void 0),r=e._([e.c("faceplate-text-input")],r);let t=n.c1({videoMinDimensionError:(e,a)=>`Videos must be at least ${e}x${a}`,videoMinRateError:e=>`Videos must have a bitrate of at least ${Math.floor(e)}KB/s`,videoCodecError:()=>"Unsupported video codec",videoIsTooShortError:e=>i.bH({one:`Videos must be at least ${e} second`,other:`Videos must be at least ${e} seconds`,count:e}),videoIsTooLongError:e=>i.bH({one:`Videos must be shorter than ${e} minute`,other:`Videos must be shorter than ${e} minutes`,count:e}),videoMaxSizeError:e=>`Videos must be ${e}GB or smaller`,videoMimetypeError:()=>"Upload an MP4 or MOV",imageMaxSizeError:e=>`Upload an image less than ${e}MB`,imageMaxSizeErrorKB:e=>`Upload an image less than ${e}KB`,gifMaxSizeError:e=>`Upload a GIF less than ${e}MB`,gifMaxSizeErrorKB:e=>`Upload a GIF less than${e}KB`,imageMaxDimensionError:(e,a)=>`Upload an image smaller than ${e}x${a}`,imageMinDimensionError:(e,a)=>`Upload an image at least ${e}x${a}`,imageOnlyGifsError:()=>"Upload a GIF",imageOnlyStaticImagesError:()=>"Upload a PNG, JPG, WEBP",imageStaticOrGifError:()=>"Upload a PNG, JPG, WEBP, or GIF",or:()=>"or ",imageTypeJoin:e=>`${s(e).reduce(((e,a,i,n)=>`${e}${d(i,n)}${$(i,n)}${a}`),"")}`,imageInvalidTypeErrorGeneric:()=>"Upload an image",imageInvalidTypeErrorSpecified:e=>`Upload a ${e}`});const s=e=>e.reduce(((e,a)=>{const i=n.bk.get(a)||a;return e.includes(i)?e:[...e,i]}),[]),d=(e,a)=>e>0?a.length>2?", ":" ":"",$=(e,a)=>a.length>1&&e===a.length-1?t.or():"",l=["image/jpeg","image/png","image/webp"],u=["image/gif"],m=[...l,...u],h=1024,I=1048576,c=20971520,p=104857600,N=e=>e.split(",").map((e=>e.trim())),P=e=>{const a="accept"in e?e.accept:void 0,{allowStaticImages:i=!1,allowAnimatedImages:n=!1}="allowStaticImages"in e?e:{};return{accept:a,allowStaticImages:i,allowAnimatedImages:n}};function G(e){const{accept:a,allowStaticImages:i,allowAnimatedImages:n}=P(e);if(a&&a?.includes("image/*"))return t.imageInvalidTypeErrorGeneric();if(a){const e=N(a);return t.imageInvalidTypeErrorSpecified(t.imageTypeJoin(e))}return n&&!i?t.imageOnlyGifsError():i&&!n?t.imageOnlyStaticImagesError():t.imageStaticOrGifError(a)}function b(e){const a=[],{accept:i,allowStaticImages:n,allowAnimatedImages:o}=P(e);return i?N(i):(n&&a.push(...l),o&&a.push(...u),a)}return{get F(){return r},S:m,get T(){return o},a:b,g:async function(e){const a=URL.createObjectURL(e),{width:i,height:n}=await function(e){return new Promise(((a,i)=>{const n=new Image;n.onload=()=>{a({width:n.width,height:n.height})},n.onerror=e=>{i(e)},n.src=e}))}(a);return{src:a,type:e.type,size:e.size,width:i,height:n}},get u(){return t},v:function(e,a){const{width:i,height:n,type:o,size:r}=e,{minImageDimension:s,maxImageDimension:d,maxImageFileSize:$=c,maxGifFileSize:l=p}=a,{accept:u,allowStaticImages:m,allowAnimatedImages:N}=P(a),k=b(a);if(!(k.includes(o)||k.includes("image/*")&&o.startsWith("image/")))return{valid:!1,error:G(u?{accept:u}:{allowStaticImages:m,allowAnimatedImages:N}),reason:"INVALID_IMAGE_TYPE_ERROR"};if(s&&(i<s||n<s))return{valid:!1,error:t.imageMinDimensionError(s,s),reason:"IMAGE_MIN_DIMENSION_ERROR"};if(d&&(i>d||n>d))return{valid:!1,error:t.imageMaxDimensionError(d,d),reason:"IMAGE_MAX_DIMENSION_ERROR"};if("image/gif"===o&&r>l){return{valid:!1,error:Math.floor(l/I)<1?t.gifMaxSizeErrorKB(Math.floor(l/h)):t.gifMaxSizeError(Math.floor(l/I)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}if(o.startsWith("image/")&&"image/gif"!==o&&r>$){return{valid:!1,error:Math.floor($/I)<1?t.imageMaxSizeErrorKB(Math.floor($/h)):t.imageMaxSizeError(Math.floor($/I)),reason:"IMAGE_SIZE_LIMIT_EXCEEDED_ERROR"}}return{valid:!0,error:null}}}}));
SML.dm("C_WCC2D4",["CVEbQKiO","D7lSuCop"],(async(t,e)=>{let s=class extends t.s{constructor(){super(...arguments),this._events=new e.E(this),this.handleSlotChange=this._events.define("slotchange",(t=>{if(t.target.parentNode!==this.shadowRoot)return;const e=this.renderTemplate();e!==this.content&&(this.content=e,this.requestUpdate())})),this.onSetRouteRequested=this._events.define("shreddit-slotter-set-slot-name",(t=>{!t.defaultPrevented&&this.hasSlot(t.detail.slotName)&&(t.preventDefault(),this.slotName=t.detail.slotName)}))}static get styles(){return[e.t]}update(t){t.has("slotName")&&(this.content=this.renderTemplate(),this.requestUpdate()),super.update(t)}updated(t){t.has("slotName")&&this.slotName&&this.dispatchEvent(e.c("shreddit-slotter-slot-name-changed",{slotName:this.slotName})),super.updated(t)}renderTemplate(){if(!this.slotName)return;const s=this.querySelector(`template[slot=${this.slotName}]`);if(!(s instanceof HTMLTemplateElement))return"";const a=e.i()?"theme-dark":"theme-light";return t.x`<span class="${a} w-full">${e.Q(s)}</span>`}hasSlot(t){return this.querySelector(`template[slot=${t}]`)instanceof HTMLTemplateElement}render(){return t.x` ${this.content||""} <slot></slot> `}};t._([t.n({type:String,attribute:"slot-name",reflect:!0})],s.prototype,"slotName",void 0),s=t._([t.c("shreddit-slotter")],s)}));
SML.dm("Bx3vFIBh",[],(async()=>{const E=["BE","BG","HR","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","CY","RO","SK","SI","ES","SE"],n=["EU","UK","AU"];var t;!function(E){E.REGION_SUFFIX="odsa",E.URL_REGION_KEY="&tf_35141892305556=",E.URL_PERMALINK_KEY="&tf_19617252816916="}(t||(t={}));const R=R=>{if("GB"===R?R="UK":function(n){return E.includes(n)}(R)&&(R="EU"),n.includes(R))return R.toLowerCase()+"_"+t.REGION_SUFFIX};return{c:(E,n="",L="",_=!1)=>{const U=R(n);if(!U)return E;const r=t.URL_REGION_KEY+U;let I="";return""!==L&&(I=_?t.URL_PERMALINK_KEY+L:t.URL_PERMALINK_KEY+location.origin+L),E+r+I}}}));
SML.dm("CGytz8Wq",["CVEbQKiO"],(async t=>{var e;!function(t){t.Error="error",t.Success="success",t.Incomplete="incomplete"}(e||(e={}));const s=o(16);function r(t,e){return t-e/100*t}function o(t){return 2*Math.PI*t}let a=class extends t.s{constructor(){super(...arguments),this.value=0,this.status=e.Incomplete}static get styles(){return t.i`:host{--loader-size-base:var(--rem40);display:inline-block;position:relative}:host([status=incomplete]){color:var(--color-neutral-content,var(--color-tone-1))}:host([status=success]){color:var(--color-success-content,var(--color-alert-positive))}:host([status=error]){color:var(--color-danger-content,var(--color-alert-negative))}svg{height:var(--loader-size,var(--loader-size-base));width:var(--loader-size,var(--loader-size-base));fill:none;stroke-width:8;display:block}.bg{stroke:var(--color-neutral-content-disabled,var(--color-tone-3))}.track{stroke:currentColor;transition:.35s stroke-dashoffset;transform:rotate(-90deg);transform-origin:50% 50%}.icon{position:absolute;inset-inline-start:50%;top:50%;transform:translate(-50%,-50%)}::slotted([slot=error]),::slotted([slot=success]){display:flex}`}render(){const o=this.status===e.Success;return t.x` <svg viewBox="0 0 40 40" class="loader" xmlns="http://www.w3.org/2000/svg"> <circle class="bg" cx="20" cy="20" r="${16}"></circle> <circle class="track ${this.status}" cx="20" cy="20" r="${16}" stroke-dasharray="${s} ${s}" stroke-dashoffset="${r(s,o?100:this.value)}"></circle> </svg> <div class="icon"> <slot name="${this.status}"></slot> </div> `}};return t._([t.n({type:Number})],a.prototype,"value",void 0),t._([t.n({type:String,reflect:!0})],a.prototype,"status",void 0),a=t._([t.c("faceplate-progress")],a),{get FaceplateProgress(){return a},get ProgressState(){return e},calcCircumference:o,calcStokeDashOffset:r}}));
SML.dm("BcR8gLw3",["CVEbQKiO","D7lSuCop","B8BAxqC_"],(async(e,t,r)=>{var i,a;!function(e){e.BORDERED="bordered",e.SECONDARY="secondary",e.PLAIN="plain"}(i||(i={})),function(e){e.COLLAPSED="collapsed",e.EXPANDED="expanded"}(a||(a={}));let n=class extends r.T{constructor(){super(...arguments),this.appearance=i.SECONDARY,this.size=a.COLLAPSED,this._textAreaContainerRef=t.aE()}static get styles(){return[super.styles,e.i`:host(){--trailing-icons-container:var(--rem32)}:host([resize]) .label-container{overflow:auto}.label-container:not(.without-label){padding-top:var(--spacer-xs);padding-bottom:var(--spacer-xs)}:host([resize]) textarea{height:100%;width:100%}:host([resize=both]) .label-container{resize:both}:host([resize=horizontal]) .label-container{resize:horizontal}:host([resize=vertical]) .label-container{resize:vertical}textarea{background:0 0;border:none;outline:0;overflow-y:auto;resize:none}:host([size=expanded]:not([rows])) .label-container{height:fit-content;min-height:var(--rem90)}:host(:not([rows])) textarea{min-height:var(--rem20,1.25rem);height:var(--rem20,1.25rem)}:host(:not([cols])) textarea{width:100%}.label-text{top:0}:host([appearance=bordered]) .label-container{border:1px solid var(--color-neutral-border)}:host([appearance=bordered]) .label-container:hover{border-color:var(--color-neutral-border-medium)}:host([appearance=bordered]) .label-container:hover,:host([appearance=plain]) .label-container:hover{background:var(--color-neutral-background-hover);border-radius:none}:host([appearance=plain]) .label-container{border-radius:0}.input-boundary-box,.input-container,:host .label-container,label{height:100%;width:100%;box-sizing:border-box}:host([size=expanded]) .input-container{height:calc(100% - var(--trailing-icon-container,0px))}.input-container{align-items:flex-start}:host .label-container{border-radius:var(--radius-md)}.input-boundary-box{flex-direction:column}:host(:not([size])) .input-boundary-box,:host([size=collapsed]) .input-boundary-box{flex-direction:row;min-height:var(--rem40);padding:var(--spacer-2xs) 0}:host([size=expanded]) #trailing-icons-container{width:100%;justify-content:flex-end}#trailing-icons-container{height:(--trailing-icons-container)}.text-area-wrapper{height:inherit;width:100%;min-height:var(--textarea-minheight,var(--rem20));display:flex}`]}updated(e){e.has("value")&&this.handleDynamicResize(),super.updated(e)}async handleDynamicResize(){if(!this.rows&&!this.cols){const{width:e}=this.innerTextArea.getBoundingClientRect();this.innerTextArea.style.overflow="hidden",this.innerTextArea.style.height="0",this.innerTextArea.style.width=`${e}px`;const t=`${this.innerTextArea?.scrollHeight}px`;this.innerTextArea.style.height=t,this.innerTextArea.style.removeProperty("overflow"),this.innerTextArea.style.removeProperty("width"),this._textAreaContainerRef?.value&&this._textAreaContainerRef.value.style.setProperty("--textarea-minheight",t)}}onInput(e){this.handleDynamicResize(),super.onInput(e)}render(){return super.renderInput(e.x` <div class="text-area-wrapper" ${t.aq(this._textAreaContainerRef)}> <textarea aria-labelledby="fp-input-label" style="${e.l(this.fontFamily?`font-family: ${this.fontFamily}`:void 0)}" class="${t.x({"no-label":!this.hasLabel})}" ?readonly="${this.readonly}" id="innerTextArea" rows="${e.l(this.rows)}" cols="${e.l(this.cols)}" @input="${this.onInput}" @change="${this.onChange}" .value="${r.l(this.value)}" name="${e.l(this.name)}" minlength="${e.l(this.minLength)}" maxlength="${e.l(this.allowMaxLengthOverflow?void 0:this.maxLength)}" placeholder="${e.l(0===this.placeholder.length?void 0:this.placeholder)}" ?disabled="${this.disabled}" ?required="${this.required}" autocomplete="${e.l(this.autocomplete)}" inputmode="${e.l(this.inputmode)}"></textarea> </div>`)}};return e._([e.n({type:Number})],n.prototype,"rows",void 0),e._([e.n({type:Number})],n.prototype,"cols",void 0),e._([e.n({type:String})],n.prototype,"resize",void 0),e._([e.z("#innerTextArea")],n.prototype,"innerTextArea",void 0),e._([e.n({type:String,reflect:!0})],n.prototype,"appearance",void 0),e._([e.n({type:String})],n.prototype,"size",void 0),e._([e.n({type:String,attribute:"font-family"})],n.prototype,"fontFamily",void 0),n=e._([e.c("faceplate-textarea-input")],n),{get F(){return n},get T(){return a},get a(){return i}}}));
SML.dm("CCOsF7IJ",["CVEbQKiO","D7lSuCop","Mh6HSk7W"],(async(e,t,i)=>{const a={checkbox:()=>"This checkbox must be on",radio:()=>"This radio must have a selected option"};class o extends i.F{constructor(){super(...arguments),this.required=!1,this.name="",this.initialized=!1,this._events=new t.E(this),this.ariaRole="checkbox",this._checked=!1,this.ellipsis=!1,this._handleClick=this._events.define("click",(e=>{this.disabled||e.defaultPrevented||this.handleInteraction()})),this._handleKeydown=this._events.define("keydown",(e=>{this.disabled||e.defaultPrevented||"Space"===e.code&&(e.stopPropagation(),e.preventDefault(),this.handleInteraction())}))}get checked(){return this._checked}set checked(e){const t=this._checked;e!==t&&(this._internals.setFormValue(e?this.getAttribute("value")||"on":null),this._checked=e,e?this.setAttribute("aria-checked","true"):this.removeAttribute("aria-checked"),this.hasAttribute("required")&&!this.checked?this._internals.setValidity({valueMissing:!0},a[this.ariaRole]()):this._internals.setValidity(),this.requestUpdate("checked",t))}static get styles(){return[super.styles,e.i`:host(:not(faceplate-switch-input)){min-height:var(--size-md)}:host{display:flex;align-items:center;cursor:pointer}label{font:var(--font-14-20-regular);color:var(--color-neutral-content-strong);margin-left:var(--spacer-2xs);cursor:pointer}.icon{border:var(--line-md) solid transparent;height:var(--size-md);font-size:var(--size-md);flex-shrink:0}:host([checked]) .icon,:host([indeterminate]) .icon{display:inline-block;color:var(--color-primary-background)}:host(:hover) .icon{color:var(--color-primary-background-hover)}:host([faceplate-validity=invalid]) .icon{color:var(--color-danger-content);pointer-events:none}:host([aria-disabled=true]) .icon{color:var(--color-neutral-content-disabled);pointer-events:none}:host([ellipsis]) label{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host([required]) label::after{position:absolute;color:var(--color-danger-content);content:'*'}:host(:focus) .icon{border-color:var(--color-global-focus,transparent);outline:0}:host(:focus){outline:0}:host(:focus:not(:focus-visible)) .icon{border-color:transparent}`]}connectedCallback(){super.connectedCallback(),this.initialized||(this.initialized=!0,this.setAttribute("role",this.ariaRole),this.setAttribute("tabindex","0"))}formDisabledCallback(e){super.formDisabledCallback(e),e?this.removeAttribute("tabindex"):this.setAttribute("tabindex","0")}render(){return e.x` ${super.render()} <label> <slot></slot> </label> `}handleInteraction(){const e=new InputEvent("input",{bubbles:!0});this.dispatchEvent(e)}}return e._([e.n({type:Boolean})],o.prototype,"required",void 0),e._([e.n({type:String})],o.prototype,"name",void 0),e._([e.n({type:Boolean,reflect:!0})],o.prototype,"checked",null),e._([e.n({type:Boolean})],o.prototype,"ellipsis",void 0),{C:o}}));
SML.dm("BMNJiqQ9",["CVEbQKiO"],(async a=>{const{svg:c}=a.g();return{P:"pagination__change-page",c:a.w(c`<path d="M4.21 9.95c-.31 0-.61-.12-.85-.35L.58 6.82a.706.706 0 010-.99c.27-.27.72-.27.99 0l2.64 2.64 6.22-6.22c.27-.27.72-.27.99 0s.27.72 0 .99L5.06 9.6c-.23.23-.54.35-.85.35z"></path>`,"0 0 12 12","checkmark-12")}}));
SML.dm("Btl6S_1h",["CVEbQKiO","CCOsF7IJ","BMNJiqQ9","D7lSuCop"],(async(a,r,e,t)=>{var o;!function(a){a.PRIMARY="primary",a.BRAND="brand"}(o||(o={}));const c={[o.PRIMARY]:"switch-input-primary",[o.BRAND]:"switch-input-brand"};var i;!function(a){a.ON="faceplate-switch-input:on",a.OFF="faceplate-switch-input:off"}(i||(i={}));let n=class extends r.C{constructor(){super(...arguments),this.appearance=o.PRIMARY}static get styles(){return[super.styles,a.i`.switch-input-primary{--checked-color-background-default:var(--color-switch-input-background-checked);--checked-color-background-hover:var(--color-switch-input-background-checked-hover)}.switch-input-brand{--checked-color-background-default:var(--color-brand-background);--checked-color-background-hover:var(--color-brand-background-hover)}.outer{background:var(--color-switch-input-background-default);border-radius:var(--radius-full);box-shadow:var(--elevation-switch-input-default-inset);height:var(--size-switch-input-h);vertical-align:middle;width:var(--size-switch-input-w);padding:var(--line-md);box-sizing:border-box;position:relative;display:flex;align-items:center;flex-shrink:0;transition:background-color .3s;contain:strict}.knob{--knob-size:calc(var(--size-switch-input-h) - (var(--line-md) * 2));--knob-size-active:calc((36 / 28) * var(--knob-size));--translate-checked:calc(
            var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2)
          );background:var(--color-global-white);border-radius:var(--radius-full);filter:drop-shadow(0 1px 4px rgba(0, 0, 0, .15));display:flex;align-items:center;justify-content:center;height:var(--knob-size);position:absolute;transform:translateX(0);transition-duration:.3s;transition-property:transform,width;width:var(--knob-size)}.knob:dir(rtl){--translate-checked:calc(
            -1 * (var(--size-switch-input-w) - var(--knob-size) - (var(--line-md) * 2))
          )}:host(:active:not([aria-disabled=true])) .knob{width:var(--knob-size-active)}:host([checked]) .knob{transform:translateX(var(--translate-checked))}:host([checked]:active:not([aria-disabled=true])) .knob{transform:translateX(calc(var(--translate-checked) - (var(--knob-size-active) - var(--knob-size))))}:host([checked]:active:not([aria-disabled=true])) .knob:dir(rtl){transform:translateX(calc(var(--translate-checked) + (var(--knob-size-active) - var(--knob-size))))}label{margin-inline-start:var(--spacer-xs)}:host([checked]) .outer{background:var(--checked-color-background-default)}:host([faceplate-validity=invalid]) .outer{background:var(--color-danger-content)}:host(:focus-visible) .outer{outline:1px auto var(--color-global-focus)}:host(:hover) .outer{background:var(--color-switch-input-background-default-hover)}:host([checked]:hover) .outer{background:var(--checked-color-background-hover)}:host([aria-disabled=true]){opacity:1}:host([aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-disabled);box-shadow:none}:host([checked][aria-disabled=true]) .outer{background-color:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true][checked]:active) .outer{background:var(--color-switch-input-background-checked-disabled);box-shadow:none}:host([aria-disabled=true]) .knob{background-color:var(--color-switch-input-background-handle-disabled);box-shadow:none}:host([aria-disabled=true]) label{opacity:.5}svg{opacity:0;color:var(--color-global-black);transition:opacity .3s}:host([checked]) svg{opacity:1}`]}render(){return a.x` <span class="${c[this.appearance||o.PRIMARY]} outer"> <span class="knob"> ${e.c({attributes:{"aria-hidden":"true"},size:a.I.ExtraSmall})} </span> </span> ${super.render()} `}toggle(){this.checked=!this.checked,this.dispatchEvent(t.c(this.checked?i.ON:i.OFF)),super.handleInteraction()}handleInteraction(){this.toggle()}};return a._([a.n({type:String})],n.prototype,"appearance",void 0),n=a._([a.c("faceplate-switch-input")],n),{get F(){return n},get S(){return o}}}));
SML.dm("DHOyZLiq",["CVEbQKiO","D7lSuCop"],(async(e,t)=>{const o=async(e,o,s)=>{try{const{isBlocked:a,response:{data:{updateRedditorBlockState:u},errors:n}}=await r(e?t.fp.None:t.fp.Blocked,o);if(u?.ok){const e=a?`u/${s} is now blocked.`:`u/${s} is now unblocked.`;return{level:t.a4.success,message:e}}if(n.length||null===u)return window.Sentry?.captureMessage(n?.[0]?.message??"Something went wrong"),{level:t.a4.error,message:`You can't block u/${s} for 24 hours after unblocking them`,cause:"user-block-rate-limited"};throw new Error(n?.[0]?.message??"Generic error while blocking user")}catch(e){return window.Sentry?.captureMessage(e),a()}},r=async(e,o)=>{try{return{response:await t.v({operation:t.O.UpdateRedditorBlockState,variables:{input:{redditorId:o,blockState:e}}}),isBlocked:e!==t.fp.None}}catch(e){throw new Error("Error during user blocking gql call")}},a=()=>({level:t.a4.error,message:"An error has occurred. Please try again later",cause:t.a_.UncaughtError}),s=e.s;let u=class extends s{constructor(){super(...arguments),this.userId="",this.username="",this.isUserInitBlocked=!1,this.showAlerts=!1,this.shouldNotHandleSubmission=!1,this.isUserBlocked=!1,this._onClick=()=>{this.shouldNotHandleSubmission||this.child?.disabled||this.handleBlockUserState()},this.handleBlockUserState=async()=>{const{level:e,message:r,cause:a}=await o(this.isUserBlocked,this.userId,this.username);(this.showAlerts||e===t.a4.error)&&this.dispatchEvent(t.c("faceplate-alert",{level:e,message:r,cause:a})),e===t.a4.error&&this.dispatchEvent(t.c("blocked-state-update-error")),e===t.a4.success&&(this.isUserBlocked=!this.isUserBlocked,this.dispatchEvent(t.c("blocked-state-updated",{isBlocked:this.isUserBlocked})))}}get child(){return this.querySelector("button")??this.querySelector("faceplate-switch-input")??void 0}connectedCallback(){super.connectedCallback(),this.isUserBlocked=this.isUserInitBlocked,this.addEventListener("click",this._onClick)}disconnectedCallback(){this.removeEventListener("click",this._onClick)}render(){return e.x`<slot></slot> `}};u.styles=[t.t],e._([e.n({type:String,attribute:"user-id"})],u.prototype,"userId",void 0),e._([e.n({type:String})],u.prototype,"username",void 0),e._([e.n({type:Boolean,attribute:"is-user-init-blocked"})],u.prototype,"isUserInitBlocked",void 0),e._([e.n({type:Boolean,attribute:"show-alerts"})],u.prototype,"showAlerts",void 0),e._([e.n({type:Boolean,attribute:"should-not-handle-submission"})],u.prototype,"shouldNotHandleSubmission",void 0),e._([e.b()],u.prototype,"isUserBlocked",void 0),u=e._([e.c("user-blocking")],u);var n=Object.freeze({__proto__:null,get UserBlocking(){return u}});return{h:o,get i(){return n}}}));
SML.dm("Cioo5mVr",["CVEbQKiO","D7lSuCop","CCphb8vV","likT9J3g","Bx3vFIBh","CITAGWir","kExRqc7d","DKUVnjU0","DZMRR9gi","C_WCC2D4","CGytz8Wq","BcR8gLw3","Btl6S_1h","DHOyZLiq","CU4mObWU","CCOsF7IJ","Mh6HSk7W","D9dm-Sy6","B8BAxqC_","BMNJiqQ9"],(async(e,t,i,r,a)=>{var n,s;!function(e){e.isSubmitError="isSubmitError",e.isRateLimitError="isRateLimitError",e.isBlockingError="isBlockingError",e.isReportBlockingSuccess="isReportBlockingSuccess",e.isReportUnblockingSuccess="isReportUnblockingSuccess"}(n||(n={})),function(e){e.Post="post",e.Comment="comment",e.User="user",e.PrivateMessage="private_message"}(s||(s={}));class o{constructor(e){this.gqlOperationByType={[s.Post]:t.O.ReportPost,[s.Comment]:t.O.ReportComment,[s.User]:t.O.ReportUserDetails,[s.PrivateMessage]:t.O.ReportPrivateMessage},this.inputKeyByType={[s.Post]:"postId",[s.Comment]:"commentId",[s.User]:"redditorId",[s.PrivateMessage]:"messageId"},this.getItemType=e=>{if(e.includes("t4_"))return s.PrivateMessage;if(e.includes("t3_"))return s.Post;if(e.includes("t2_"))return s.User;if(e.includes("t1_"))return s.Comment;throw new Error("Unsupported item type provided")},this.onReportSubmit=async e=>{const{actionData:t,hiddenInputValues:i}=e;if(!t)return;const r=i.thingId,a=this.getItemType(r),n=this.reportPayloadGenerator(i,t),s=await this.getReportOperationResponse(a,r,n);if(!s||s.errors&&s.errors.length)return!1;const o="reportPost"in s.data&&s.data?.reportPost?.ok,l="reportComment"in s.data&&s.data?.reportComment?.ok,d="reportUserDetails"in s.data&&s.data?.reportUserDetails?.ok,u="reportPrivateMessage"in s.data&&s.data?.reportPrivateMessage?.ok;return o||l||d||u},this.onCTLReportSubmit=async(e,t)=>{const i=this.getItemType(e),r=await this.getReportOperationResponse(i,e,{fromHelpDesk:!1,siteRule:"SELF_HARM",...(t ? {userDetailType:t} : {})});if(!r||r.errors&&r.errors.length)return!1;const a="reportPost"in r.data&&r.data?.reportPost?.ok,n="reportComment"in r.data&&r.data?.reportComment?.ok,s="reportUserDetails"in r.data&&r.data?.reportUserDetails?.ok;return!!(a||n||s)||null},this.reportPayloadGenerator=(e,t)=>{const{ruleType:i,ruleId:r,freeText:a,additionalContent:n}=t,o=e[r.ref],l=this.getItemType(e.thingId),d={fromHelpDesk:!1,...(this.isEmbed ? {hostAppName:"R2"} : {})};if("site"===i?d.siteRule=o:"subreddit"===i&&"other"===o?d.customRule=e["customRule.value"]:d.subredditRule=e["subredditRule.value"],l===s.User&&(d.userDetailType=e["userDetail.value"]),a&&a.ref&&(d.freeText=e["freeText.value"]),n&&n.ref){const t=e[n.ref];t&&(d.reportedItems=t.split(",").map((e=>({itemId:e}))))}return d},this.getReportOperationResponse=async(e,t,i)=>{const r=this.inputKeyByType[e];if(!r)throw new Error("Unsupported item type provided");const a={[r]:t,...i};return await this.reportRequest(e,a)},this.reportRequest=async(e,i)=>{const r=this.gqlOperationByType[e];if(!r)throw new Error("Unsupported item type provided");try{return await t.v({operation:r,variables:{input:i}})}catch(e){return}},this.isEmbed=e}}let l=class extends e.s{constructor(){super(...arguments),this.isEmbed=!1,this.permalink="",this.countryCode="",this.buttonText="Next",this.isDisabled=!0,this.href="",this.onButtonClick=e=>{e.stopImmediatePropagation();const i=this.config.action,r=i?this.helpers?.getAction(i):null;if(i&&r){const e=this.helpers?.performAction(r);if("screenId"===e?.key){const i=t.c("shreddit-slotter-set-slot-name",{slotName:e.value}),r=this.helpers?.getHiddenInputValue("screenSequence"),a=r.split(" ");a.push(e.value),this.helpers?.setHiddenInputValue("screenSequence",a.toString()),this.getRootNode().host.dispatchEvent(i)}else e?.formSubmit?(this.dispatchEvent(t.c("submit-report-modal",{thingId:this.helpers?.getHiddenInputValue("thingId")})),this.handleSubmission(e.data)):e?.href?("DSA"===this.helpers?.getHiddenInputValue("categoryOrRule.value")&&this.countryCode?window.open(a.c("https://support.reddithelp.com/hc/requests/new?ticket_form_id=19623931614484",this.countryCode,this.permalink)):window.open(e.href),this.dispatchEvent(t.c("close-report-modal",{buttonAction:i.actionType}))):e?.formClose?this.dispatchEvent(t.c("close-report-modal",{buttonAction:i.actionType})):e?.openCtlFlow&&this.dispatchEvent(t.c("open-ctl-modal"))}},this.toggleLoadingIndicator=()=>{const e=this.shadowRoot?.querySelector("faceplate-progress"),t=this.shadowRoot?.querySelector("span.report-button-content");e?.classList.toggle("hidden"),t?.classList.toggle("opacity-0")},this.handleSubmission=async e=>{this.toggleLoadingIndicator();const i=this.helpers?.getAllHiddenInputValues();if(e&&i){(await (this.gqlHelpers?.onReportSubmit({actionData:e,hiddenInputValues:i})))?(this.helpers?.setHiddenInputValue("formSubmitted","true"),this.formEl?.querySelector("shreddit-slotter")?.dispatchEvent(t.c("shreddit-slotter-set-slot-name",{slotName:"formSubmitted"}))):this.dispatchEvent(t.c("faceplate-alert",{level:t.a4.error,cause:"uncategorized",message:"An error occurred while submitting your report. Wait a bit, and try again."}))}},this.initTemplatedUrlListener=()=>{const{action:e}=this.config;if(e&&"openTemplatedUrl"===e.actionType){const t=e.args;if(t){const i=t?.placeholders;i?.forEach((i=>{const r=t[i]?.ref;r&&this.formEl?.querySelector(`input[type=hidden][name="${r}"]`)?.addEventListener("change",(()=>{const t=this.helpers?.performAction(e);t?.href&&(this.href=t.href)}))}))}}},this.initEventListeners=()=>{const{text:e,disabled:t}=this.config;if(!this.helpers?.isString(e)){const t=this.helpers?.getTextDataRef(e);t&&this.formEl?.querySelector(`input[type=hidden][name="${t}"]`)?.addEventListener("change",(()=>{this.buttonText=this.helpers?.getText(this.config.text)??this.buttonText}))}if(t){const e=this.helpers?.getDisabledRef(t);e&&e.length&&e.forEach((e=>this.formEl?.querySelector(`input[type=hidden][name="${e}"]`)?.addEventListener("change",(async()=>{this.isDisabled=(this.config.disabled&&this.helpers?.getDisabledCondition(this.config.disabled))??this.isDisabled,await this.updateComplete,this.getRootNode()?.host?.getRootNode()?.host?.getModal().focusManager.refresh()}))))}else this.isDisabled=!1;this.initTemplatedUrlListener()}}firstUpdated(){this.initEventListeners()}connectedCallback(){super.connectedCallback();const e=this.getRootNode().host.closest("report-form");this.formEl=e,this.helpers=new i.bO(e),this.gqlHelpers=new o(this.isEmbed),this.buttonText=this.helpers?.getText(this.config.text)??this.buttonText,this.config.disabled?this.isDisabled=this.helpers?.getDisabledCondition(this.config.disabled)??this.isDisabled:this.isDisabled=!1}render(){const i=this.href?{href:this.href,target:"_blank",rel:"noopener noreferrer"}:{};return e.x` ${t.k({appearance:"primary",attributes:{disabled:this.isDisabled,onclick:this.onButtonClick,className:"w-full s:w-auto relative",...i},children:e.x` <faceplate-progress value="20" class="animate-spin loading-icon hidden absolute start-0 end-0 m-auto w-[16px]" style="--loader-size:1rem"></faceplate-progress> <span class="report-button-content">${this.buttonText}</span>`})} `}};l.styles=[t.t],e._([e.n({type:Object})],l.prototype,"config",void 0),e._([e.n({type:Boolean,attribute:"is-embed"})],l.prototype,"isEmbed",void 0),e._([e.n({type:String,attribute:"permalink"})],l.prototype,"permalink",void 0),e._([e.n({type:String,attribute:"country-code"})],l.prototype,"countryCode",void 0),e._([e.b()],l.prototype,"buttonText",void 0),e._([e.b()],l.prototype,"isDisabled",void 0),e._([e.b()],l.prototype,"href",void 0),l=e._([e.c("report-action")],l);const d=[{hiddenInputRef:"value",inputAttribute:"value"},{hiddenInputRef:"nextAction",inputAttribute:"data-nextaction"},{hiddenInputRef:"label",inputAttribute:"data-label"},{hiddenInputRef:"description",inputAttribute:"data-description"}];let u=class extends e.s{firstUpdated(){this.updateComplete.then((()=>{this.dispatchEvent(t.c("report-form-rendered"))}))}constructor(){super(),this.reasonSelectionCache={},this.getSlotter=()=>this.querySelector("shreddit-slotter")?.shadowRoot,this.getSelectedReason=()=>this.getSlotter()?.querySelector("[data-buttonbar] button.button-activated"),this.getHiddenInput=e=>this.querySelector("form")?.querySelector(`input[type=hidden][name="${e}"]`),this.getFormElementById=e=>this.getSlotter()?.querySelector(`#${e}`),this.setHiddenInputValue=(e,t)=>{const i=this.getHiddenInput(e);i?.setAttribute("value",t??""),i?.dispatchEvent(new Event("change"))},this.getPreviousValue=e=>{if(e===i.bP){const t=this.getHiddenInput(i.bQ)?.getAttribute("value")??"",r=this.reasonSelectionCache[t];this.setHiddenInputValue(e,r)}return this.getHiddenInput(e)?.getAttribute("value")},this.populateValue=async({fieldName:e,el:t,elType:i})=>{if(e){const r=this.getPreviousValue(e);if(r||""===r)switch(i){case"button":t.getAttribute("value")===r&&this.toggleReportReason(t);break;case"textDisplay":t.textContent=r,await this.updateComplete,this.helpers?.bottomScrollIntoViewIfNeeded(this.getSelectedReason());break;case"radioInput":t.getAttribute("value")===r&&t.setAttribute("checked","true");break;default:t.setAttribute("value",r)}}},this.toggleReportReason=e=>{const t=this.getSelectedReason();t&&(t.classList.remove("button-activated"),t.ariaChecked=null,t.removeAttribute("aria-describedby")),e.classList.add("button-activated"),e.ariaChecked="true",e.setAttribute("aria-describedby","report-footer-content-body")},this.updateHiddenInputsFromReportReason=e=>{const t=e.getAttribute("data-ref");d.forEach((({hiddenInputRef:i,inputAttribute:r})=>{this.setHiddenInputValue(`${t}.${i}`,e.getAttribute(r))}))},this.updateReasonSelectionCache=e=>{const t=this.getHiddenInput(i.bQ)?.getAttribute("value")??"";this.reasonSelectionCache={...this.reasonSelectionCache,[t]:e}},this.addReportReasonListeners=()=>{const e=this.getSlotter()?.querySelectorAll("[data-buttonbar] button");e?.length&&e.forEach((e=>{const t=e.getAttribute("data-ref");this.populateValue({fieldName:`${t}.value`,el:e,elType:"button"}),e.addEventListener("click",(e=>{e.stopImmediatePropagation(),e.currentTarget instanceof Element&&(this.toggleReportReason(e.currentTarget),this.updateHiddenInputsFromReportReason(e.currentTarget))}))}))},this.createTextWithLinkElement=t=>t.map((t=>"Link"===t.type?e.x`${r.a({children:t.text,attributes:{href:t.linkTo,target:"_blank",rel:"noopener noreferrer"}})} `:e.x`<span>${t.text}</span>`)),this.showCurrentDynamicLinkElements=(t,i)=>{const r=JSON.parse(t);this.createTextWithLinkElement(r).forEach((t=>{const r=document.createElement("div");e.B(t,r),i.appendChild(r.firstElementChild)}))},this.addFooterListener=(e,t)=>{const i=this.getFormElementById(e),r=i?.getAttribute(t);i&&r&&(this.populateValue({fieldName:i.getAttribute(t),el:i,elType:"textDisplay"}),this.getHiddenInput(r)?.addEventListener("change",(async e=>{e.currentTarget instanceof Element&&(this.setFooterContent(i,e.currentTarget),await this.updateComplete,this.helpers?.bottomScrollIntoViewIfNeeded(this.getSelectedReason()))})))},this.setFooterContent=(e,t)=>{e.firstChild&&(e.innerHTML="");const i=t.getAttribute("value");i?.includes("PlainText")?this.showCurrentDynamicLinkElements(i,e):e.textContent=t.getAttribute("value")??""},this.addReasonFooterContentListeners=()=>{this.addFooterListener("report-footer-content-title","data-title-ref"),this.addFooterListener("report-footer-content-body","data-text-ref")},this.addRadioListeners=()=>{const e=this.getSlotter()?.querySelectorAll("faceplate-radio-input");e?.length&&e?.forEach((e=>{this.populateValue({fieldName:`${e.getAttribute("name")}.value`,el:e,elType:"radioInput"}),e.addEventListener("input",(e=>{if(e.currentTarget instanceof Element){const t=e.currentTarget.getAttribute("name"),i=e.currentTarget.getAttribute("value");this.setHiddenInputValue(`${t}.value`,i),this.updateReasonSelectionCache(i??"")}}))}))},this.showTextInput=e=>{e.classList.remove("hidden"),this.querySelector("shreddit-slotter")?.shadowRoot?.querySelector('faceplate-radio-input[name="subredditRule"][value="other"]')?.scrollIntoView()},this.addTextInputListeners=()=>{const e=this.getSlotter()?.querySelectorAll("faceplate-textarea-input");e?.length&&e.forEach((e=>{const t=e.getAttribute("data-visibility-ref"),i=e.getAttribute("data-visibility-check");this.populateValue({fieldName:e.name,el:e,elType:"textInput"});if(t&&i){const r=this.getHiddenInput(t);r?.getAttribute("value")===i&&this.showTextInput(e),r?.addEventListener("change",(t=>{t.currentTarget.getAttribute("value")===i?this.showTextInput(e):e.classList.contains("hidden")||e.classList.add("hidden")}))}e.shadowRoot?.querySelector("textarea")?.addEventListener("keyup",(e=>{const t=e.currentTarget.getAttribute("name"),i=e.currentTarget.value;t&&i&&this.setHiddenInputValue(t,i)}))}))},this.addUserBlockingSwitchListener=()=>{const e=this.getSlotter()?.querySelector("faceplate-switch-input");e&&e.addEventListener("click",(()=>{const i=e.checked;this.dispatchEvent(t.c("report-flow-blocking",{checked:i}))}))},this.addInteractionListeners=()=>{this.addReportReasonListeners(),this.addReasonFooterContentListeners(),this.addRadioListeners(),this.addTextInputListeners(),this.addUserBlockingSwitchListener()},this.addStepChangeListener=()=>{const e=this.querySelector("shreddit-slotter");e?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await e.updateComplete,this.addInteractionListeners()}))},this.initEventListeners=e=>{"report/view/reportform"===e.SAN&&(this.addInteractionListeners(),this.addStepChangeListener())},this.helpers=new i.bO(this),this.addEventListener("faceplate-track",this.initEventListeners)}render(){return e.x` <slot></slot>`}};u.styles=[e.i`:host{display:block;width:100%}`,t.t],e._([e.n({type:String,attribute:"author-id"})],u.prototype,"authorId",void 0),u=e._([e.c("report-form")],u);let h=class extends e.s{static get styles(){return[e.i`:host>faceplate-banner{display:flex;flex-direction:column;gap:var(--spacer-md);align-items:center;position:fixed;left:50%;transform:translateX(-50%);padding:0 1rem;bottom:var(--rem16);width:calc(100% - 2rem)}`,t.t]}disconnectedCallback(){super.disconnectedCallback()}connectedCallback(){super.connectedCallback(),this.showError&&(this.dispatchAlert({}),this.dispatchCloseReportFlowEvent())}constructor(){super(),this.isEmbed=!1,this.thingId="",this.isOpen=!1,this.showError=!1,this.authorId="",this.authorName="",this.partialSrc="/svc/shreddit/report-flow/",this.getModal=()=>this.isDesktop?this.querySelector("faceplate-modal"):this.querySelector("faceplate-bottom-sheet"),this.initModalCloseListener=()=>{this.getModal()?.querySelector("#report-modal-close")?.addEventListener("click",this.onCloseModal)},this.dispatchCloseReportFlowEvent=()=>{this.dispatchEvent(t.c("report-flow-close"))},this.closeFramedModal=()=>{this.isEmbed&&parent.postMessage(JSON.stringify({type:"close.framedmodal"}),"*")},this.onCloseModal=e=>{if(e){const{buttonAction:t}=e.detail;this.isUserBlockedSwitchChecked&&"formClose"===t&&this.handleUserBlocking()}this.getModal()?.close(),this.dispatchCloseReportFlowEvent(),this.closeFramedModal()},this.addBaseSlotterListener=()=>{const e=this.getModal()?.querySelector("shreddit-slotter");e?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await e.updateComplete,this.getModal()?.focusManager.refresh(),this.getModal()?.focusManager.focusFirst()}))},this.initFlowSlotterListener=()=>{this.addEventListener("shreddit-slotter-set-slot-name",(()=>{this.renderBackButton(),this.updateModalTitle()}))},this.initModal=()=>{this.initFlowSlotterListener(),this.getModal()?.showModal(),this.initModalCloseListener(),this.initEscapeListener(),this.initModalBackButtonListener(),this.addBaseSlotterListener(),this.isEmbed&&parent.postMessage(JSON.stringify({type:"loaded.framedmodal"}),"*")},this.getInputValue=e=>this.getModal()?.querySelector("report-form")?.querySelector(`form input[type=hidden][name="${e}"]`)?.getAttribute("value"),this.setInputValue=(e,t)=>this.getModal()?.querySelector("report-form")?.querySelector(`form input[type=hidden][name="${e}"]`)?.setAttribute("value",t),this.onBackButtonClick=()=>{const e=this.getInputValue("screenSequence").split(","),i=e.slice(0,e.length);i.pop(),this.setInputValue("screenSequence",i.toString());const r=t.c("shreddit-slotter-set-slot-name",{slotName:i[i.length-1]});this.querySelector("shreddit-slotter").dispatchEvent(r)},this.renderBackButton=()=>{const e=this.getModal()?.querySelector("#report-modal-back");if(e){const t=this.getInputValue("formSubmitted");this.getInputValue("screenSequence").split(",").length>1&&"false"===t?(e?.classList.remove("hidden"),e.disabled=!1):(e?.classList.add("hidden"),e.disabled=!0)}},this.updateModalTitle=async()=>{await this.updateComplete;"true"===this.getInputValue("formSubmitted")&&(this.getModal()?.querySelector(".header-title")?.classList.add("hidden"),this.getModal()?.querySelector(".report-success-title")?.classList.remove("hidden"))},this.initModalBackButtonListener=()=>{this.getModal()?.querySelector("#report-modal-back")?.addEventListener("click",this.onBackButtonClick)},this.initEscapeListener=()=>{document.addEventListener("keydown",(e=>{if("Escape"===e.key){const e=this.getModal(),t=this.getCTLModal();""===e?.getAttribute("open")&&this.onCloseModal(),""===t?.getAttribute("open")&&this.onCloseCTLModal()}}))},this.handleUserBlocking=async()=>{try{await t.v({operation:t.O.UpdateRedditorBlockState,variables:{input:{redditorId:this.authorId,blockState:t.fp.Blocked}}}),this.dispatchAlert({level:t.a4.success,message:`u/${this.authorName} is now blocked.`})}catch(e){this.dispatchAlert({level:t.a4.error,message:"An error has occured. Please try again later"})}},this.dispatchAlert=({level:e=t.a4.error,message:i="Reporting is currently unavailable. Try reloading the page or waiting a few minutes, before trying again."})=>{this.dispatchEvent(t.c("faceplate-alert",{level:e,message:i}))},this.onCloseCTLModal=()=>{this.getCTLModal()?.close(),this.dispatchCloseReportFlowEvent(),this.closeFramedModal()},this.addCTLSlotterListener=()=>{const e=this.getCTLModal()?.querySelector("shreddit-slotter");e?.addEventListener("shreddit-slotter-set-slot-name",(async()=>{await e.updateComplete,this.getCTLModal()?.focusManager.refresh(),this.getCTLModal()?.focusManager.focusFirst();const t=this.getCTLModal()?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#ctl-ok-button");t?.addEventListener("click",this.onCloseCTLModal)}))},this.getCTLModal=()=>this.querySelector("#ctl-modal"),this.initCTLModalCloseListener=()=>{this.getCTLModal()?.querySelector("#ctl-modal-close")?.addEventListener("click",this.onCloseCTLModal)},this.initCTLModal=async()=>{this.getModal()?.close(),this.getCTLModal()?.showModal(),this.initCTLModalCloseListener()},this.showThankYou=()=>{const e=t.c("shreddit-slotter-set-slot-name",{slotName:"thankyou"});this.getCTLModal()?.querySelector("shreddit-slotter")?.dispatchEvent(e)},this.submitCTLReport=async()=>{const e=this.helpers?.getHiddenInputValue("userDetail.value");(await (this.gqlHelpers?.onCTLReportSubmit(this.thingId, e)))?this.showThankYou():this.dispatchAlert({level:t.a4.error,message:"An error occurred while submitting your report. Wait a bit, and try again."})},this.initCTLListeners=e=>{if("report/view/ctl"===e.SAN){const e=this.getCTLModal()?.querySelector("shreddit-slotter")?.shadowRoot?.querySelector("#ctl-yes-button");e?.addEventListener("click",this.submitCTLReport),this.getCTLModal()?.focusManager.refresh(),this.getCTLModal()?.focusManager.focusFirst(),this.addCTLSlotterListener()}},this.gqlHelpers=new o(this.isEmbed);const e=this.querySelector("report-form");e&&(this.helpers=new i.bO(e)),this.addEventListener("report-form-rendered",this.initModal),this.addEventListener("faceplate-track",this.initCTLListeners),this.addEventListener("close-report-modal",this.onCloseModal),this.addEventListener("open-ctl-modal",this.initCTLModal),this.addEventListener("report-flow-blocking",(e=>{const{checked:t}=e.detail;this.isUserBlockedSwitchChecked=t}))}render(){return e.x`<slot></slot>`}};e._([e.n({type:Boolean,attribute:"is-desktop"})],h.prototype,"isDesktop",void 0),e._([e.n({type:Boolean,attribute:"is-embed"})],h.prototype,"isEmbed",void 0),e._([e.n({type:String,attribute:"thing-id"})],h.prototype,"thingId",void 0),e._([e.n({type:Boolean,attribute:"is-open"})],h.prototype,"isOpen",void 0),e._([e.n({type:Boolean,attribute:"show-error"})],h.prototype,"showError",void 0),e._([e.n({type:String,attribute:"author-id"})],h.prototype,"authorId",void 0),e._([e.n({type:String,attribute:"author-name"})],h.prototype,"authorName",void 0),h=e._([e.c("report-flow")],h)}));