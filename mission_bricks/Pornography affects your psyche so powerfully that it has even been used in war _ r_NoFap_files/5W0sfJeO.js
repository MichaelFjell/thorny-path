SML.di("./CVEbQKiO.js",import.meta.url,"CVEbQKiO");SML.di("./D7lSuCop.js",import.meta.url,"D7lSuCop");SML.di("./CCphb8vV.js",import.meta.url,"CCphb8vV");SML.di("./B_HhJySl.js",import.meta.url,"B_HhJySl");
SML.dm("5W0sfJeO",["CVEbQKiO","D7lSuCop","CCphb8vV","B_HhJySl"],(async(e,t,s,o)=>{let i=class extends e.s{constructor(){super(...arguments),this.isModNotesRailClientSourceLoaded=!1,this.isPDP=!1,this.isModRecruitingPage=!1,this.pubsub=new t.P(this),this.openModNoteRail=async e=>{const t=document.getElementById(o.M);try{const s=this.querySelector(`faceplate-partial[name="${o.a}"]`),i=this.querySelector(`shreddit-async-loader[name="${o.a}"]`);if(!s||!i)return;this.classList.remove("hidden"),s.classList.add("hidden"),t?.classList.remove("hidden");let l=o.b;for(const t in e){const s=e[t];l=l.replace(`/:${t}`,s?`/${s}`:"")}s.src=l;const a=document.querySelector(".right-sidebar");this.isModRecruitingPage&&a&&a.classList.add("s:block"),this.isModNotesRailClientSourceLoaded?await s.load():(await Promise.allSettled([i.load(),s.load()]),this.isModNotesRailClientSourceLoaded=!0),t?.classList.add("hidden"),s.classList.remove("hidden")}catch(e){}this.onScrollHandlerThrottled()},this.onScrollHandler=()=>{const e=this.getBoundingClientRect();this.style.height=`calc(100vh - ${e.top}px - ${this.isPDP?"16px":"0"}16px - 1px)`},this.onScrollHandlerThrottled=s.x(this.onScrollHandler,200,!0),this.handleCloseClick=()=>{this.classList.add("hidden"),t.p(t.T.ModNotesRailClose);const e=document.querySelector(".right-sidebar");this.isModRecruitingPage&&e&&e.classList.remove("s:block")}}connectedCallback(){super.connectedCallback(),this.pubsub.subscribe(t.T.ModNotesRailOpen,this.openModNoteRail,!1),this.pubsub.subscribe(t.T.ModNotesRailForceClose,this.handleCloseClick,!1),document.addEventListener("scroll",this.onScrollHandlerThrottled)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("scroll",this.onScrollHandlerThrottled)}handleCloseKeyboardEnter(e){"Enter"===e.key&&this.handleCloseClick()}render(){return e.x` <slot></slot> <div class="absolute top-md right-md z-10" @click="${this.handleCloseClick}" @keyup="${this.handleCloseKeyboardEnter}"> ${t.k({leadingIcon:e.C({size:e.q.Small}),size:t._.Small,attributes:{className:"opacity-80 button-media"}})} </div> `}};i.styles=[t.t,e.i`:host{display:block}`],e._([e.b()],i.prototype,"isModNotesRailClientSourceLoaded",void 0),e._([e.n({type:Boolean,attribute:"is-pdp"})],i.prototype,"isPDP",void 0),e._([e.n({type:Boolean,attribute:"mod-recruiting-page"})],i.prototype,"isModRecruitingPage",void 0),i=e._([e.c("mod-notes-rail-closer")],i)}));